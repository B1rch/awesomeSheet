"use strict";var blank=function(){var a={basics:{name:"",race:"","class":"",level:"",size:"",alignment:"",xp:"",height:"",weight:"",age:"",gender:"",speed:"",initiative:"",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"",temp:""},dex:{score:"",temp:""},con:{score:"",temp:""},"int":{score:"",temp:""},wis:{score:"",temp:""},cha:{score:"",temp:""}},feats:"",traits:"",languages:"",special_abilities:""},equipment:{gear:"",magic_gear:"",encumbrance:{light:"",medium:"",heavy:""},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"",wrist:""},wealth:{platinum:"",gold:"",silver:"",copper:""},consumable:[]},defense:{hp:{total:"",temp:"",damage:"",non_lethal_damage:""},ac:{misc:"",temp:"",armor:"",shield:"",deflect:"",dodge:"",natural:"",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},flat_footed:{misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},touch:{misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},ac_notes:"",fortitude:{base:"",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!0,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},save_notes:""},offense:{base_attack:"",special_size_bonus:"",concentration:"",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!1},cmd:{misc:"",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!1},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[],ranged:[]},attack_notes:""},skills:{acrobatics:{ranks:"",misc:"",class_skill:!1},appraise:{ranks:"",misc:"",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"",misc:"",class_skill:!1},perform_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_2:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[]},{level_1:[]},{level_2:[]},{level_3:[]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:"",story:""}};return{data:a}}(),nif=function(){var a={basics:{name:"Nif Amakir",race:"Elf","class":"Wizard",level:"6",size:"Medium",alignment:"Lawful Neutral",xp:"30,214",height:"6'0",weight:"136 lbs",age:"120 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"3",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"8",temp:""},dex:{score:"17",temp:"15"},con:{score:"14",temp:""},"int":{score:"21",temp:"23"},wis:{score:"12",temp:""},cha:{score:"10",temp:""}},feats:"Alertness, Augment Summoning, Craft Wondrous Item, Greater Spell Focus (Conjuration), Scribe Scroll, Spell Focus (Conjuration)",traits:"Resilient",languages:"Celestial, Common, Draconic, Dwarven, Elven, Giant, Gnome, Goblin, Orc, Sylvan, Undercommon",special_abilities:"Arcane bond (Su), Bonus feats, Cantrips, Arcane schools, Teleportation sub school, Opposition arcane school, Elven Immunities (Ex), Elven Magic (Ex), Keen Senses (Ex), Low-Light Vision (Ex), Headband of Vast Intelligence skill (Use Magic Device), Linguistics Skill (Dwarven, Giant, Undercommon), Shift (Su), Summoner's Charm (Su), Weapon Familiarity (Ex)"},equipment:{gear:"Spell component pouch, Spellbook, Backpack, Flask of Oil (3), Pouch (belt), Sack, Candle, Flint and Steel, Tindertwig, Rations (5 days), Waterskin, Bedroll, Blanket, Bloodblock, Healer's Kik, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper sheets, Case for maps/scrolls, Scroll Case, Combat trained horse, Viles of insect sap (15)",magic_gear:"Pearl of Power (1st Level), Potion of CLW (1), Potion of Aid, Vile of Antitoxin, Vile of Holy Water, Scroll of Acid Pit (1), Scroll of Summon Monster III (6), Scroll of Invisibility (2), Scroll of Create Pit (1), Scroll of Web (4), Scroll of Stinking Cloud (2), Scroll of Grease (0), Scroll of Mirror Image (3), Scroll of Spiked Pit (2) Scroll of Fly (3)",encumbrance:{light:"26 lbs or less",medium:"27–53 lbs",heavy:"54–80 lbs"},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"Headband of Vast Intelligence +2",neck:"Amulet of Natural Armor +1",ring_left_hand:"Ring of Sustenance",ring_right_hand:"",shield:"",shoulders:"Cloak of Resistance +2",wrist:""},wealth:{platinum:"",gold:"1,090",silver:"",copper:""},consumable:[{item:"Wand of Lightning Bolt",total:"50",used:"43"},{item:"Shift",total:"9",used:""}]},defense:{hp:{total:"42",temp:"",damage:"",non_lethal_damage:""},ac:{misc:"",temp:"",armor:"",shield:"",deflect:"",dodge:"",natural:"1",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},flat_footed:{misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},touch:{misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},ac_notes:"",fortitude:{base:"2",racial:"",resistance:"2",misc:"3",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!0,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"2",racial:"",resistance:"2",misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"5",racial:"",resistance:"2",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},save_notes:"Immune to sleep effecrs, +2 against enchantment spells and effects"},offense:{base_attack:"3",special_size_bonus:"",concentration:"12",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},cmd:{misc:"",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Dagger (Master Work)",attack:"3",damage:"1d6+1",critical:"19–20/x2"}],ranged:[{weapon:"Shortbow",attack:"6",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:""},skills:{acrobatics:{ranks:"",misc:"",class_skill:!1},appraise:{ranks:"2",misc:"",class_skill:!0},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"2",misc:"",class_skill:!0},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"3",misc:"",class_skill:!0},knowledge_dungeoneering:{ranks:"2",misc:"",class_skill:!0},knowledge_engineering:{ranks:"1",misc:"",class_skill:!0},knowledge_geography:{ranks:"1",misc:"",class_skill:!0},knowledge_history:{ranks:"1",misc:"",class_skill:!0},knowledge_local:{ranks:"1",misc:"",class_skill:!0},knowledge_nature:{ranks:"1",misc:"",class_skill:!0},knowledge_nobility:{ranks:"1",misc:"",class_skill:!0},knowledge_planes:{ranks:"3",misc:"",class_skill:!0},knowledge_religion:{ranks:"3",misc:"",class_skill:!0},linguistics:{ranks:"3",misc:"",class_skill:!0},perception:{ranks:"6",misc:"4",class_skill:!1},perform_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"6",misc:"",class_skill:!0},stealth:{ranks:"",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"6",misc:"",class_skill:!1},custom_1:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_2:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"4",level_1:"5",level_2:"4",level_3:"3",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"16",level_1:"17",level_2:"18",level_3:"19",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[{name:"Bleed",prepared:0,active:!1,cast:0},{name:"Erase",prepared:0,active:!1,cast:0},{name:"Daze",prepared:0,active:!1,cast:0},{name:"Disrupt Undead",prepared:0,active:!1,cast:0},{name:"Touch of Fatigue",prepared:0,active:!1,cast:0},{name:"Prestidigitation",prepared:0,active:!1,cast:0},{name:"Light",prepared:0,active:!1,cast:0},{name:"Ghost Sound",prepared:0,active:!1,cast:0},{name:"Spark",prepared:0,active:!1,cast:0},{name:"Acid Splash",prepared:0,active:!1,cast:0},{name:"Mage Hand",prepared:0,active:!1,cast:0},{name:"Flare",prepared:0,active:!1,cast:0},{name:"Detect Magic",prepared:1,active:!1,cast:0},{name:"Detect Poison",prepared:0,active:!1,cast:0},{name:"Dancing Lights",prepared:1,active:!1,cast:0},{name:"Mending",prepared:0,active:!1,cast:0},{name:"Arcane Mark",prepared:0,active:!1,cast:0},{name:"Message",prepared:1,active:!1,cast:0},{name:"Ray of Frost",prepared:0,active:!1,cast:0},{name:"Read Magic",prepared:1,active:!1,cast:0},{name:"Open Close",prepared:0,active:!1,cast:0},{name:"Resistance",prepared:0,active:!1,cast:0}]},{level_1:[{name:"Comprehend Languages",prepared:0,active:!1,cast:0},{name:"Enlarge Person",prepared:0,active:!1,cast:0},{name:"Feather Fall",prepared:0,active:!1,cast:0},{name:"Grease",prepared:2,active:!1,cast:0},{name:"Mage Armor",prepared:0,active:!1,cast:0},{name:"Mount",prepared:0,active:!1,cast:0},{name:"Obscuring Mist",prepared:1,active:!1,cast:0},{name:"Protection from Chaos",prepared:0,active:!1,cast:0},{name:"Protection from Evil",prepared:2,active:!1,cast:1},{name:"Shield",prepared:0,active:!1,cast:0},{name:"Summon Monster I",prepared:0,active:!1,cast:0},{name:"Unseen Servant",prepared:0,active:!1,cast:0}]},{level_2:[{name:"Blur",prepared:0,active:!1,cast:0},{name:"Create Pit",prepared:0,active:!1,cast:0},{name:"Flaming Sphere",prepared:0,active:!1,cast:0},{name:"Glitterdust",prepared:1,active:!1,cast:0},{name:"Invisibility",prepared:1,active:!1,cast:0},{name:"Levitate",prepared:0,active:!1,cast:0},{name:"Mirror Image",prepared:1,active:!1,cast:1},{name:"Resist Energy",prepared:0,active:!1,cast:0},{name:"Stone Call",prepared:0,active:!1,cast:0},{name:"Summon Monster II",prepared:0,active:!1,cast:0},{name:"Web",prepared:1,active:!1,cast:1}]},{level_3:[{name:"Stinking Cloud",prepared:0,active:!1,cast:0},{name:"Summon Monster III",prepared:1,active:!1,cast:1},{name:"Spiked Pit",prepared:1,active:!1,cast:0},{name:"Aqueous Orb",prepared:0,active:!1,cast:0},{name:"Fly",prepared:1,active:!1,cast:1},{name:"Sleet Storm",prepared:0,active:!1,cast:0}]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:'<strong>Resilient</strong> (+1 trait bonus on Fortitude saves)<br><br><strong>Arcane bond (Su)</strong> Rat Bower, +2 Fortitude save,<br><br><strong>Bonus feats</strong>,<br><br><strong>Cantrips</strong>,<br><br><strong>Arcane schools</strong> Conjuration,<br><br><strong>Teleportation sub school</strong>,<br><br><strong>Opposition arcane school</strong> Enchantment, Necromancy,<br><br><strong>Elven Immunities (Ex)</strong> +2 against enchantment spells and effects,<br><br><strong>Elven Magic (Ex)</strong> +2 caster level checks made to overcome SR. +2 Spellcraft check to identify properties of magic items,<br><br><strong>Keen Senses (Ex)</strong> +2 Perception checks,<br><br><strong>Low-Light Vision (Ex)</strong> See x2 as far as humans in low illumination,<br><br><strong>Headband of Vast Intelligence skill</strong> Use Magic Device,<br><br><strong>Linguistics Skill</strong> Dwarven, Giant, Undercommon,<br><br><strong>Shift (Su)</strong> Teleport 15 feet 9 times per day,<br><br><strong>Summoner\'s Charm (Su)</strong> +3 rounds duration for Conjuration (Summoning) spells,<br><br><strong>Weapon Familiarity (Ex)</strong> Proficient with longbows (including composite longbows), longswords, rapiers, and shortbows (including composite shortbows), treat weapon with "elven" in name as a martial weapon.',story:""}};return{data:a}}(),ro=function(){var a={basics:{name:"Ro Flint",race:"Elf","class":"Magus Bladebound",level:"3",size:"Medium",alignment:"Lawful Neutral",xp:"3,891",height:"6'0",weight:"",age:"120 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"4",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"12",temp:""},dex:{score:"18",temp:""},con:{score:"10",temp:""},"int":{score:"16",temp:""},wis:{score:"10",temp:""},cha:{score:"7",temp:""}},feats:"Weapon Finesse, Dervish Dance, Alertness",traits:"Magical Lineage (Shocking Grasp), Focused Mind (+2 on concentration checks)",languages:"Common, Draconic, Dwarven, Elven, Orc",special_abilities:"Low-Light Vision (Ex), Elven Immunities (Ex), Elven Magic (Ex), Weapon Familiarity (Ex), Keen Senses (Ex), Arcane Pool, Cantrips, Spell Combat (EX), Black Blade (Ex)"},equipment:{gear:"Fur coat and cold weather outfit, Rapier, Spell component pouch, Spellbook, Backpack, Flask of Oil x3, Pouch (belt), Sack, Candle, Flint and Steel, Tindertwig, Rations (5 days), Waterskin, Bedroll, Blanket, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper sheets, Case for maps/scrolls, Tent for 2, Trained Donkey (commands: come, down, stay heal, work), Alchemist Fire (3), Potion of CLW (3)",magic_gear:"Short Sword +1, Black Blade Scimitar +1",encumbrance:{light:"43 lbs or less",medium:"44–86 lbs",heavy:"87–130 lbs"},body_slots:{armor:"Studded leather",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"",wrist:""},wealth:{platinum:"",gold:"570",silver:"",copper:""},consumable:[{item:"Arcane Pool",total:"4",used:"2"},{item:"Black Blade Arcane Pool",total:"1",used:"1"},{item:"Alchemist Fire",total:"3",used:"2"},{item:"Potion of CLW",total:"3",used:"2"}]},defense:{hp:{total:"20",temp:"",damage:"9",non_lethal_damage:""},ac:{misc:"",temp:"",armor:"3",shield:"4",deflect:"",dodge:"",natural:"",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},flat_footed:{misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},touch:{misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},ac_notes:"",fortitude:{base:"3",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!0,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"1",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"3",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},save_notes:"Immune to sleep effecrs, +2 against enchantment spells and effects, +7 against cold weather"},offense:{base_attack:"2",special_size_bonus:"",concentration:"8",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},cmd:{misc:"",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Rapier",attack:"6",damage:"1d6+4",critical:"18–20/x2"},{weapon:"Black Blade Scimitar +1",attack:"7",damage:"1d6+5",critical:"18–20/x2"},{weapon:"Spell Strike BB Scimitar +1",attack:"5/5",damage:"1d6+5",critical:"18–20/x2"},{weapon:"Shortsword +1",attack:"7",damage:"1d6+2",critical:"18–20/x2"}],ranged:[{weapon:"Shortbow",attack:"5",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:"+1 attack, +2 damage"},skills:{acrobatics:{ranks:"3",misc:"",class_skill:!1},appraise:{ranks:"",misc:"",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"1",misc:"",class_skill:!0},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"3",misc:"2",class_skill:!1},perform_1:{ranks:"2",misc:"",class_skill:!1,variant_name:"Dance"},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"2",misc:"",class_skill:!0},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"3",misc:"",class_skill:!0},stealth:{ranks:"1",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_2:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"4",level_1:"4",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"13",level_1:"14",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[{name:"Acid Splash",prepared:0,active:!1,cast:0},{name:"Arcane Mark",prepared:0,active:!1,cast:0},{name:"Dancing Lights",prepared:1,active:!1,cast:0},{name:"Daze",prepared:0,active:!1,cast:0},{name:"Detect Magic",prepared:1,active:!1,cast:0},{name:"Disrupt Undead",prepared:0,active:!1,cast:0},{name:"Flare",prepared:0,active:!1,cast:0},{name:"Ghost Sound",prepared:0,active:!1,cast:0},{name:"Light",prepared:0,active:!1,cast:0},{name:"Mage Hand",prepared:1,active:!1,cast:0},{name:"Open Close",prepared:0,active:!1,cast:0},{name:"Prestidigitation",prepared:0,active:!1,cast:0},{name:"Ray of Frost",prepared:0,active:!1,cast:0},{name:"Read Magic",prepared:0,active:!1,cast:0},{name:"Spark",prepared:0,active:!1,cast:0}]},{level_1:[{name:"Color Spray",prepared:0,active:!1,cast:0},{name:"Grease",prepared:1,active:!1,cast:1},{name:"Shocking Grasp",prepared:2,active:!1,cast:2},{name:"True Strike",prepared:0,active:!1,cast:0},{name:"Magic Missile",prepared:0,active:!1,cast:0},{name:"Shield",prepared:1,active:!1,cast:1},{name:"Vanish",prepared:0,active:!1,cast:0},{name:"Obscuring Mist",prepared:0,active:!1,cast:0},{name:"Chill Touch",prepared:0,active:!1,cast:0},{name:"Frostbite",prepared:0,active:!1,cast:0},{name:"Infernal Healing",prepared:0,active:!1,cast:0},{name:"Windy Escape",prepared:0,active:!1,cast:0},{name:"Unerring Weapon",prepared:0,active:!1,cast:0},{name:"Ray of Enfeeblement",prepared:0,active:!1,cast:0},{name:"Burning Hands",prepared:0,active:!1,cast:0},{name:"Expeditious Retreat",prepared:0,active:!1,cast:0}]},{level_2:[]},{level_3:[]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:'<strong>Low-Light Vision (Ex)</strong> See x2 as far as humans in low illumination,<br><br><strong>Elven Immunities (Ex)</strong> Immune to magic sleep effects, +2 against Enchantment spells and effects,<br><br><strong>Elven Magic (Ex)</strong> +2 caster level checks made to overcome SR. +2 Spellcraft check to identify properties of magic items,<br><br><strong>Weapon Familiarity (Ex)</strong> Proficient with longbows (including composite longbows), longswords, rapiers, and shortbows (including composite shortbows), treat weapon with "elven" in name as a martial weapon),<br><br><strong>Keen Senses (Ex)</strong> +2 Perception checks,<br><br><strong>Arcane Pool</strong> 4,<br><br><strong>Cantrips</strong> <strong>Spell Combat (EX)</strong> cast spells and wield his weapons at the same time.<br><br><strong>Black Blade (Ex)</strong> Bladebound magus\' gain a powerful sentient weapon called a black blade.<br><br><strong>Black Blade Scimitar +1</strong><br>Purpose: To protect the Elves.<br>Enhancement Bonus +1, Int 11, Wis/Cha 7, Ego 5,<br>Special: Alertness, black blade strike, telepathy, unbreakable.',story:""}};return{data:a}}(),vos=function(){var a={basics:{name:"Vos Thunderstomp",race:"Dwarf","class":"Monk",level:"4",size:"Medium",alignment:"Chaotic Neutral",xp:"9,812",height:"5'0",weight:"190 lbs",age:"40 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"2",hero_points:"1",luck_points:""},statistics:{stats:{str:{score:"17",temp:""},dex:{score:"14",temp:""},con:{score:"12",temp:""},"int":{score:"10",temp:""},wis:{score:"14",temp:""},cha:{score:"7",temp:""}},feats:"Improved Grapple, Weapon Focus (Unarmed Strike), Dodge",traits:"",languages:"Common, Dwarven",special_abilities:"Darkvision, Defensive Training, Greed, Hatred, Hardy, Stability, Stonecunning, Weapon Familiarity, Evasion, Flurry of Blows +1/+1 (Ex), Stunning Fist (Ex), Unarmed Strike, AC Bonus (Ex), Evasion (Ex), Fast Movement (Ex), Maneuver Training (Ex), Still Mind (Ex), Ki Pool (Su), Slow Fall (Ex)"},equipment:{gear:"Backpack, Flask Of Oil (3), Pouch (belt), Sack, Candle, Flint And Steel, Tindertwig, Rations (5 Days), Waterskin, Bedroll, Blanket, Bloodblock, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper Sheets, Case For Maps/scrolls, Torch, Rubbing Poweder, Rubbing Oils, Fine Cheese (1), Smelly Cheese (3), Wine (2), Wrestling Costume (2), Alchemist Fire (3), Dagger, Lavendar soap, Soap bar",magic_gear:"Good Berries (5), Potion of Stabilise, Potion of Cure Moderate Wounds (1), Potion of Unknow (1)",encumbrance:{light:"76 lbs or less",medium:"77–153 lbs",heavy:"154–230 lbs"},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"Ring of Protection +1",shield:"",shoulders:"Cloak of Resistance +1",wrist:"Bracers of Armor +1"},wealth:{platinum:"",gold:"1,218",silver:"5",copper:""},consumable:[{item:"Scented Oils",total:"5",used:""},{item:"Stunning Fist",total:"5",used:""},{item:"Ki Pool",total:"4",used:""}]},defense:{hp:{total:"33",temp:"",damage:"",non_lethal_damage:""},ac:{misc:"1",temp:"",armor:"1",shield:"",deflect:"1",dodge:"1",natural:"",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},flat_footed:{misc:"1",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},touch:{misc:"1",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},ac_notes:"",fortitude:{base:"4",racial:"",resistance:"1",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!0,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"4",racial:"",resistance:"1",misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"4",racial:"",resistance:"1",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},save_notes:"+2 against poison, spells, and spell-like abilities, +2 against enchantment spells and effects."},offense:{base_attack:"3",special_size_bonus:"",concentration:"",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!0,bab:!1},cmd:{misc:"1",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1,level:!1,bab:!0},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Flurry of Blows",attack:"5/5",damage:"1d8+3",critical:"20x2"},{weapon:"Grapple",attack:"10",damage:"1d8+3",critical:"20x2"},{weapon:"Maintain Grapple ",attack:"15",damage:"1d8+3",critical:"20x2"},{weapon:"Stunning Fist",attack:"7",damage:"1d8+3",critical:"20x2"}],ranged:[{weapon:"Shortbow",attack:"6",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:"+1 weapon focus (unarmed strike), +2 grapple, +2 to resist grapple"},skills:{acrobatics:{ranks:"4",misc:"",class_skill:!0},appraise:{ranks:"",misc:"2",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"4",misc:"",class_skill:!0},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"4",misc:"",class_skill:!0},perform_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"4",misc:"",class_skill:!0},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_2:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[]},{level_1:[]},{level_2:[]},{level_3:[]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:"<strong>Darkvision</strong> See in the dark up to 60 feet.<br><br><strong>Defensive Training</strong> +4 dodge bonus to AC against monsters of the giant subtype.<br><br><strong>Greed</strong> +2 racial bonus on Appraise skill checks made to determine the price of nonmagical goods that contain precious metals or gemstones.<br><br><strong>Hatred</strong> +1 bonus on attack rolls against humanoid creatures of the orc and goblinoid subtypes.<br><br><strong>Hardy</strong> +2 racial bonus on saving throws against poison, spells, and spell-like abilities.<br><br><strong>Stability</strong> +4 racial bonus to their Combat Maneuver Defense when resisting a bull rush or trip attempt while standing on the ground.<br><br><strong>Stonecunning</strong> +2 bonus on Perception checks to notice unusual stonework, such as traps and hidden doors located in stone walls or floors.<br><br><strong>Weapon Familiarity</strong> Dwarves are proficient with battleaxes, heavy picks, and warhammers, and treat any weapon with the word \"dwarven\" in its name as a martial weapon.<br><br><strong>AC Bonus</strong> Adds Wisdom bonus to his AC and his CMD. Gains a +1 bonus to AC and CMD at 4th level. This bonus increases by 1 for every four monk levels thereafter, up to a maximum of +5 at 20th level.<br><br><strong>Flurry of Blows (Ex)</strong> +1/+1 Make a flurry of blows as a full-attack. Taking a -2 penalty on all of his attack rolls, as if using the Two-Weapon Fighting feat.<br><br><strong>Stunning Fist (Ex)</strong> Gain Stunning Fist as a bonus feat. Fortitude saving DC 10 + 1/2 your character level + your Wis modifier.<br><br><strong>Unarmed Strike</strong> Gain Improved Unarmed Strike as a bonus feat. Add full Strength bonus on damage rolls for all unarmed strikes. You can choose to deal lethal or nonlethal damage with no penalty on his attack or grappling rolls. Unarmed damage is 1d6 plus Strength bonus.<br><br><strong>Evasion (Ex)</strong> On a successful Reflex save against an attack that normally deals half damage take no damage.<br><br><strong>Weapon Focus</strong> +1 bonus on attack rolls with one weapon (Unarmed Strike)<br><br><strong>Maneuver Training (Ex)</strong> Uses his monk level in place of his base attack bonus when calculating CMB.<br><br><strong>Still Mind (Ex)</strong> +2 bonus on saving throws against enchantment spells and effects.<br><br><strong>Improved Grapple</strong> You do not provoke an attack of opportunity when performing a grapple combat maneuver. +2 to grapple a foe. +2 CMD whenever an opponent tries to grapple you.<br><br><strong>Ki Pool</strong> A monk's ki pool is equal to 1/2 his monk level + his Wisdom modifier (4). As long as he has at least 1 point in his ki pool, he can make a ki strike. At 4th level, ki strike allows his unarmed attacks to be treated as magic weapons for the purpose of overcoming damage reduction.<br><br>By spending 1 point from his ki pool, a monk can make one additional attack at his highest attack bonus when making a flurry of blows attack. In addition, he can spend 1 point to increase his speed by 20 feet for 1 round. Finally, a monk can spend 1 point from his ki pool to give himself a +4 dodge bonus to AC for 1 round. Each of these powers is activated as a swift action.<br><br><strong>Slow Fall</strong> A monk within arm's reach of a wall can use it to slow his descent. When first gaining this ability, he takes damage as if the fall were 20 feet shorter than it actually is.",
story:"Tamrin: city controlled by the church of the living god<br><br>Black Mist: river bargeSigar: member of pathfinder societyReginar: member of pathfinder society<br><br>Weslin Garvic: forest marshal against the church of the living god<br><br>Aramina Yasgon, half elf, bard: sent into the church<br><br>Olis Tomain, human, fighter: sent into the church<br><br>Floss Blunderstomp: alias"}};return{data:a}}(),marika=function(){var a={basics:{name:"Marika Spandrell",race:"Human","class":"Rogue",level:"9",size:"Medium",alignment:"Chaotic Neutral",xp:"76,000",height:"5’3",weight:"98 lb",age:"23",gender:"Female",speed:"30 ft, 6 sq",initiative:"8",hero_points:"1",luck_points:"2"},statistics:{stats:{str:{score:"12",temp:""},dex:{score:"22",temp:"26"},con:{score:"10",temp:""},"int":{score:"12",temp:""},wis:{score:"12",temp:""},cha:{score:"9",temp:""}},feats:"Deft Hands, Weapon Finesse, Two Weapon Fighting, Improved Two Weapon Fighting, Double Slice, Extra Rogue Talent.",traits:"Child of the Streets, Deft Dodger.",languages:"Common, Giant, Goblin.",special_abilities:"Sneak Attack +5d6, Trapfinding, Trap Sense +3, Uncanny Dodge, Improved Uncanny Dodge, Minor Magic (Mage Hand 3/day), Major Magic (Unseen Servant 2/day), Fast Fingers, Fast Stealth, Powerful Sneak."},equipment:{gear:"Large Black Backpack, Bedroll, Silk Rope, Pencils, Ink, Paper, Sketch Book, Grappling Hook, Flint and Steel, Torch, Masterwork Thieves’ Tools (+2 Disable Device), Magnifying Glass (+2 Appraise), Merchant’s Scale (+2 Appraise), Trail Rations, Bread, Cheese and Wine.",magic_gear:"Potion of Cure Light Wounds (6) Potion of Cure Moderate Wounds (3), Potion of Cure Serious Wounds (2), Potion of BarkSkin (5), Potion of Shield of Faith (2), Rapier +2 (Flaming Crystal), Short Sword +2 (Frost Crystal), Studded Leather +2, Belt of Dexterity +4, Cloak of Resistance +2, Spider Climb Pendent 1/day, Ring of Protection +1, Eyes of the Eagle, Handy Haversack.",encumbrance:{light:"43 lbs or less",medium:"44–86 lbs",heavy:"87–130 lbs"},body_slots:{armor:"Leather +2",belts:"Belt of Dexterity +4",body:"",chest:"",eyes:"Eyes of the Eagle",feet:"Slippers of Spider Climbing",hands:"",head:"",headband:"",neck:"",ring_left_hand:"Ring of Protection +2",ring_right_hand:"",shield:"",shoulders:"Cloak of Resistance +3",wrist:""},wealth:{platinum:"21",gold:"763",silver:"",copper:""},consumable:[{item:"Slippers of Spider Climbing",total:"10",used:""}]},defense:{hp:{total:"53",temp:"",damage:"",non_lethal_damage:""},ac:{misc:"",temp:"",armor:"4",shield:"",deflect:"2",dodge:"",natural:"",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},flat_footed:{misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},touch:{misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},ac_notes:"+3 dodge bonus to AC against attacks made by traps.",fortitude:{base:"3",racial:"",resistance:"3",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"6",racial:"",resistance:"3",misc:"1",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"3",racial:"",resistance:"3",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},save_notes:"+3 bonus on Reflex saves made to avoid traps."},offense:{base_attack:"6 / 1",special_size_bonus:"",concentration:"",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},cmd:{misc:"",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!0},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Rapier +2",attack:"16",damage:"1d6+3",critical:"18–20/x2"},{weapon:"Rapier +2 Powerful Sneak",attack:"13",damage:"1d6+3",critical:"18–20/x2"},{weapon:"Short Sword +2",attack:"16",damage:"1d6+3",critical:"19–20/x2"},{weapon:"Short Sword +2 Powerful Sneak",attack:"13",damage:"1d6+3",critical:"19–20/x2"},{weapon:"Full Attack Rapier +2 / Short Sword +2",attack:"14 / 9 / 14 / 9",damage:"1d6+3",critical:"19–20/x2 / 18–20/x2 / 19–20/x2 / 18–20/x2"}],ranged:[{weapon:"Shortbow +1",attack:"15",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:""},skills:{acrobatics:{ranks:"9",misc:"",class_skill:!0},appraise:{ranks:"9",misc:"4",class_skill:!0},bluff:{ranks:"9",misc:"",class_skill:!0},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"9",misc:"4",class_skill:!0},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"9",misc:"",class_skill:!0},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"9",misc:"5",class_skill:!0},perform_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"9",misc:"",class_skill:!0},sleight_of_hand:{ranks:"9",misc:"3",class_skill:!0},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"9",misc:"5",class_skill:!0},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{name:"Disable Device Trap",ranks:"9",misc:"4",class_skill:!0,str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!0},custom_2:{name:"Perception Trap",ranks:"9",misc:"5",class_skill:!0,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1,level:!1,half_level:!0},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[{name:"Mage Hand",prepared:3,active:!1,cast:0}]},{level_1:[{name:"Unseen Servant",prepared:2,active:!1,cast:0}]},{level_2:[]},{level_3:[]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:"<strong>Deft Hands</strong> +2 bonus on Disable Device and Sleight of Hand skill checks<br><br><strong>Weapon Finesse</strong> With a light weapon, rapier, whip, or spiked chain made for a creature of your size category, you may use your Dexterity modifier instead of your Strength modifier on attack rolls.<br><br><strong>Two Weapon Fighting</strong> Penalties on attack rolls for fighting with two weapons are reduced.<br><br><strong>Improved Two Weapon Fighting</strong> In addition to the standard single extra attack you get with an off-hand weapon, get a second attack with it, albeit at a –5 penalty.<br><br><strong>Double Slice</strong> Add your Strength bonus to damage rolls made with your off-hand weapon.<br><br><strong>Extra Rogue Talent</strong> Gain one additional rogue talent<br><br><strong>Sneak attack</strong> Attack deals extra damage anytime her target would be denied a Dexterity bonus to AC (+5d6).<br><br><strong>Evasion (Ex)</strong> A rogue adds 1/2 her level to Perception skill checks made to locate traps and to Disable Device skill checks.<br><br><strong>Rogue talent</strong> Minor Magic (Sp) Mage Hand, 3/day.<br><br><strong>Rogue talent</strong> Major Magic (Sp) Unseen Servant, 2/day.<br><br><strong>Rogue talent</strong> Fast Fingers (Ex) Roll two dice while making a Sleight of Hand check and take the better result, 1/day.<br><br><strong>Rogue talent</strong> Fast Stealth (Ex) Move at full speed using the Stealth skill without penalty.<br><br><strong>Rogue talent</strong> During a full attack action you may take a –2 penalty on all attack rolls until the start of her next turn. If an attack during this time is a sneak attack, treats all 1s on the sneak attack damage dice as 2s.<br><br><strong>Trap sense (Ex)</strong> +3 bonus on Reflex saves made to avoid traps and a +3 dodge bonus to AC against attacks made by traps. These bonuses rise to +2 when the rogue reaches 6th level, to +3 when she reaches 9th level.<br><br><strong>Uncanny Dodge (Ex)</strong> cannot be caught flat-footed, nor lose Dex bonus to AC if the attacker is invisible. Still loses Dexterity bonus to AC if immobilized.<br><br><strong>Improved Uncanny Dodge (Ex)</strong> A rogue of 8th level or higher can no longer be flanked.",story:""}};return{data:a}}(),orrin=function(){var a={basics:{name:"Orrin Alareth",race:"Human","class":"Rogue",level:"2",size:"Medium",alignment:"Lawful Neutral",xp:"1,300",height:"6'0",weight:"136 lbs",age:"26 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"6",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"13",temp:""},dex:{score:"18",temp:""},con:{score:"12",temp:""},"int":{score:"12",temp:""},wis:{score:"12",temp:""},cha:{score:"7",temp:""}},feats:"<div>Weapon Finesse,&nbsp;Dodge<br></div>",traits:"Reactionary,&nbsp;Resilient",languages:"Common, Elven",special_abilities:"Sneak Attack (+1d6), Trapfinding, Evasion, Rogue talent"},equipment:{gear:"Fur coat and cold weather outfit, Spell component pouch, Spellbook, Backpack, Flask of Oil (3), Pouch (belt), Sack, Candle, Flint and Steel, Tindertwig (5), Rations (5 days), Waterskin, Bedroll, Blanket, Bloodblock, Healer's Kik, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper sheets,&nbsp;Buckler",magic_gear:"",encumbrance:{light:"50 lbs or less",medium:"51–100 lbs",heavy:"101–150 lbs"},body_slots:{armor:"",belts:"",body:"Hide armor",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"",wrist:""},wealth:{platinum:"",gold:"800",silver:"",copper:""},consumable:[]},defense:{hp:{total:"17",temp:"",damage:"",non_lethal_damage:""},ac:{misc:"",temp:"",armor:"4",shield:"1",deflect:"",dodge:"1",natural:"",size_bonus:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},flat_footed:{misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},touch:{misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},ac_notes:"",fortitude:{base:"0",racial:"",resistance:"",misc:"1",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!0,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},reflex:{base:"3",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1},will:{base:"0",racial:"",resistance:"",misc:"",temp:"",str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1},save_notes:""},offense:{base_attack:"1",special_size_bonus:"",concentration:"6",cmb:{misc:"",temp:"",str_bonus:!0,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!1},cmd:{misc:"",temp:"",str_bonus:!0,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,bab:!1},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Rapier (MW)",attack:"6",damage:"1d6+1",critical:"18–20/×2"}],ranged:[{weapon:"Shortbow (MW)",attack:"6",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:"+1d6 Sneak attack, +2 to overcome spell resistance"},skills:{acrobatics:{ranks:"2",misc:"",class_skill:!0},appraise:{ranks:"1",misc:"",class_skill:!0},bluff:{ranks:"1",misc:"",class_skill:!0},climb:{ranks:"1",misc:"",class_skill:!0},craft_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},craft_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"2",misc:"",class_skill:!0},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"2",misc:"",class_skill:!0},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"1",misc:"",class_skill:!0},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"2",misc:"",class_skill:!0},perform_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},perform_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_1:{ranks:"",misc:"",class_skill:!1,variant_name:""},profession_2:{ranks:"",misc:"",class_skill:!1,variant_name:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"2",misc:"",class_skill:!0},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"2",misc:"",class_skill:!0},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"2",misc:"",class_skill:!0},custom_1:{name:"Perception (Traps)",ranks:"2",misc:"",class_skill:!0,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!0,cha_bonus:!1,level:!1,half_level:!0},custom_2:{name:"Disable Device (Traps)",ranks:"2",misc:"",class_skill:!0,str_bonus:!1,dex_bonus:!0,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!0},custom_3:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1},custom_4:{name:"",ranks:"",misc:"",class_skill:!1,str_bonus:!1,dex_bonus:!1,con_bonus:!1,int_bonus:!1,wis_bonus:!1,cha_bonus:!1,level:!1,half_level:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{level_0:[]},{level_1:[]},{level_2:[]},{level_3:[]},{level_4:[]},{level_5:[]},{level_6:[]},{level_7:[]},{level_8:[]},{level_9:[]}]},notes:{character:"<div><br></div>",story:""}};return{data:a}}(),hardCodedCharacters=function(){var a=[orrin.data,nif.data,ro.data,vos.data,marika.data];return{load:a}}(),helper=function(){function a(a){return document.querySelector(a)}function b(a){return document.querySelectorAll(a)}function c(a,b){a.classList.toggle(b)}function d(a,b){a.classList.add(b)}function e(a,b){a.classList.remove(b)}function f(a,b){window.setTimeout(a,b)}function g(a){var b=helper.e(a);if(document.selection){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var c=document.createRange();c.selectNodeContents(b),window.getSelection().removeAllRanges(),window.getSelection().addRange(c)}}function h(a,b,c){if(c=c?"...":"",a.length>b){var d=a.substring(0,b)+c;return d}return a}function i(a,b,c){for(var d=b.split(".");d.length>1;)a=a[d.shift()];a[d.shift()]=c}function j(a,b){for(var c=b.split(".");c.length>1;)a=a[c.shift()];return a[c.shift()]}function k(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode){if("."===c&&a.classList.contains(b.substr(1)))return a;if("#"===c&&a.id===b.substr(1))return a;if("["===c&&a.hasAttribute(b.substr(1,b.length-2)))return a;if(a.tagName.toLowerCase()===b)return a}return!1}function l(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}return{e:a,eA:b,toggleClass:c,addClass:d,removeClass:e,getClosest:k,selectText:g,delayFunction:f,updateObject:i,getObject:j,truncate:h,randomId:l}}(),sheet=function(){function a(){h("allCharacters",JSON.stringify(p))}function b(){return p}function c(){return p[q]}function d(){return q}function e(a){q=a,h("charactersIndex",q)}function f(){p.push(JSON.parse(JSON.stringify(blank.data)));var c=b().length-1;e(c),a(),o(),n(),nav.clear(),nav.render(b())}function g(){var c=p[q].basics.name||"New character";p.splice(d(),1);var g=!1;0==p.length&&(f(),g=!0),e(0),o(),n(),a(),nav.clear(),nav.render(b()),g?snack.render(helper.truncate(c,40,!0)+" removed. New character added.",!1,!1):snack.render(helper.truncate(c,50,!0)+" removed.",!1,!1)}function h(a,b){localStorage.getItem&&localStorage.setItem(a,b)}function i(a){localStorage.getItem&&localStorage.removeItem(a)}function j(a){if(""==localStorage.getItem(a))localStorage.removeItem(a);else if(localStorage.getItem(a))return localStorage.getItem(a)}function k(){localStorage.clear(),prompt.destroy(),snack.destroy(),document.location.reload(!0)}function l(a){var b;b=c().basics.name?c().basics.name:"New character";JSON.stringify(p[q],null," ");prompt.render("Download "+b,!1,"Download","download"),helper.e(".prompt pre")&&helper.selectText(".prompt pre")}function m(){nav.bind(),inputBlock.bind(),textareaBlock.bind(),stats.bind(),clone.bind(),totalBlock.bind(),spells.bind()}function n(){nav.render(),nav.resize(),inputBlock.render(),textareaBlock.render(),stats.render(),totalBlock.render(),totalBlock.update(),clone.render(),spells.render()}function o(){nav.clear(),inputBlock.clear(),textareaBlock.clear(),stats.render(),totalBlock.clear(),totalBlock.update(),clone.clear(),spells.clear()}var p=blank.data,q=0;(function(){j("allCharacters")?p=JSON.parse(j("allCharacters")):"undefined"!=typeof hardCodedCharacters&&(p=hardCodedCharacters.load),a()})(),function(){j("charactersIndex")&&(q=j("charactersIndex"))}();return{getAllCharacters:b,getCharacter:c,addCharacter:f,removeCharacter:g,getIndex:d,setIndex:e,storeCharacters:a,destroy:k,store:h,remove:i,read:j,clear:o,print:l,render:n,bind:m}}(),nav=function(){function a(){var a=helper.e(".js-fullscreen"),b=window.document,c=a.querySelector("span"),d=b.documentElement,e=d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullScreen||d.msRequestFullscreen,f=b.exitFullscreen||b.mozCancelFullScreen||b.webkitExitFullscreen||b.msExitFullscreen;b.fullscreenElement||b.mozFullScreenElement||b.webkitFullscreenElement||b.msFullscreenElement?(f.call(b),helper.toggleClass(a,"is-active"),helper.toggleClass(c,"icon-fullscreen-exit"),helper.toggleClass(c,"icon-fullscreen")):(e.call(d),helper.toggleClass(a,"is-active"),helper.toggleClass(c,"icon-fullscreen-exit"),helper.toggleClass(c,"icon-fullscreen"))}function b(a,b,d,e){("undefined"==typeof a||""==a)&&(a="New character"),("undefined"==typeof b||""==b)&&(b="Class"),("undefined"==typeof d||""==d)&&(d="Level");var f=helper.randomId(10),g=document.createElement("li");g.setAttribute("class","m-nav-character js-nav-character character-index-"+e),g.setAttribute("data-character-index",e);var h=document.createElement("input");h.setAttribute("id",a.replace(/\s+/g,"-").toLowerCase()+"-"+f),h.setAttribute("name","js-nav-all-characters"),h.setAttribute("class","js-nav-character-select"),h.setAttribute("type","radio"),h.setAttribute("tabindex",10);var i=document.createElement("label");i.setAttribute("for",a.replace(/\s+/g,"-").toLowerCase()+"-"+f),i.setAttribute("class","u-full-width");var j=document.createElement("span");j.setAttribute("class","m-nav-characters-name js-nav-characters-name"),j.textContent=helper.truncate(a,30,!0);var k=document.createElement("span");k.setAttribute("class","m-nav-characters-class js-nav-characters-class"),k.textContent=helper.truncate(b,20,!0)+" ";var l=document.createElement("span");return l.setAttribute("class","m-nav-characters-level js-nav-characters-level"),l.textContent=helper.truncate(d,10),i.appendChild(j),i.appendChild(k),i.appendChild(l),g.appendChild(h),g.appendChild(i),c(g),g}function c(a){a.addEventListener("click",function(){d(this),sheet.storeCharacters()},!1)}function d(a){var b=a.dataset.characterIndex;sheet.setIndex(b),sheet.clear(),sheet.render(),a.querySelector("input").checked=!0;var c=sheet.getCharacter().basics.name;("undefined"==typeof c||""==c)&&(c="New character"),snack.render(helper.truncate(c,50,!0)+" now in the game.",!1,!1)}function e(a){var b=a.dataset.characterNav,c=a.value;"name"==b?(("undefined"==typeof c||""==c)&&(c="New character"),helper.e(".character-index-"+sheet.getIndex()).querySelector(".js-nav-characters-name").textContent=helper.truncate(c,30,!0)):"class"==b?(("undefined"==typeof c||""==c)&&(c="Class"),helper.e(".character-index-"+sheet.getIndex()).querySelector(".js-nav-characters-class").textContent=helper.truncate(c,20,!0)+" "):"level"==b&&(("undefined"==typeof c||""==c)&&(c="Level"),helper.e(".character-index-"+sheet.getIndex()).querySelector(".js-nav-characters-level").textContent=helper.truncate(c,10,!1))}function f(){for(var a=helper.eA(".js-nav-characters"),b=0;b<a.length;b++)for(;a[b].lastChild;)a[b].removeChild(a[b].lastChild)}function g(){var a=sheet.getAllCharacters(),c=helper.e(".js-nav-characters");for(var d in a){var e=b(a[d].basics.name,a[d].basics["class"],a[d].basics.level,d);c.appendChild(e)}var f=helper.eA(".js-nav-character-select");f[sheet.getIndex()].checked=!0,h()}function h(){window.onscroll=function(){for(var a=(helper.e(".js-quick-nav"),helper.eA(".js-quick-nav-link")),b=helper.eA(".js-section"),c=60,d=0;d<b.length;d++){var e=b[d].querySelector(".js-section-heading");if(b[d].getBoundingClientRect().top<=c&&b[d].getBoundingClientRect().bottom>c){for(var f=0;f<a.length;f++)helper.removeClass(a[f],"is-active");helper.addClass(a[d],"is-active"),e&&(helper.addClass(b[d],"is-pinned"),helper.addClass(e,"is-pinned"))}else helper.removeClass(a[d],"is-active"),e&&(helper.removeClass(b[d],"is-pinned"),helper.removeClass(e,"is-pinned"))}if(window.innerHeight+window.scrollY>=document.body.offsetHeight){for(var g=helper.e(".js-quick-nav-last-link"),d=0;d<a.length;d++)helper.removeClass(a[d],"is-active");helper.addClass(g,"is-active")}}}function i(){helper.removeClass(helper.e(".js-nav"),"is-open"),helper.removeClass(helper.e(".js-nav-toggle"),"is-open")}function j(){helper.addClass(helper.e(".js-nav"),"is-open"),helper.addClass(helper.e(".js-nav-toggle"),"is-open")}function k(){helper.toggleClass(helper.e(".js-nav"),"is-open"),helper.toggleClass(helper.e(".js-nav-toggle"),"is-open")}function l(){var a;a=sheet.getCharacter().basics.name?sheet.getCharacter().basics.name:"New character",prompt.render("Remove "+a+"?","This character will be removed. This can not be undone.","Confirm",sheet.removeCharacter)}function m(){var a=helper.e(".js-nav"),b=window.innerHeight-120;a.style.maxHeight=b+"px"}function n(){var b=helper.e(".js-nav"),c=helper.e(".js-nav-toggle"),d=helper.e(".js-fullscreen"),e=helper.e(".js-clear-all"),f=helper.e(".js-character-add"),g=helper.e(".js-character-remove"),h=helper.e(".js-character-export");c.addEventListener("click",function(){k()},!1),d.addEventListener("click",function(){a()},!1),e.addEventListener("click",function(){prompt.render("Are you sure?","All characters will be removed. This can not be undone.","Confirm",sheet.destroy),i()},!1),h.addEventListener("click",function(){sheet.print(),i()},!1),f.addEventListener("click",function(){sheet.addCharacter(),snack.render("New character added.",!1,!1)},!1),g.addEventListener("click",function(){l(),i()},!1),window.addEventListener("click",function(a){a.target!=b&&a.target!=c&&helper.getClosest(a.target,".js-nav")!=b&&helper.getClosest(a.target,".js-nav-toggle")!=c&&i()},!1),window.addEventListener("keydown",function(a){8==a.which&&a.ctrlKey&&(prompt.render("Are you sure?","All characters will be removed. This can not be undone.","Confirm",sheet.destroy),i())},!1),window.addEventListener("keydown",function(a){69==a.which&&a.ctrlKey&&(sheet.print(),i())},!1),window.addEventListener("keydown",function(a){27==a.keyCode&&i()},!1),window.addEventListener("keydown",function(a){77==a.keyCode&&a.ctrlKey&&k()},!1),window.addEventListener("resize",function(a){m()},!1)}return{resize:m,bind:n,clear:f,render:g,update:e,open:j,close:i,toggle:k}}(),prompt=function(){function a(){var a=helper.e(".js-prompt"),b=helper.e(".js-prompt-shade");a&&(getComputedStyle(a).opacity,a.style.opacity=0),b&&(getComputedStyle(b).opacity,b.style.opacity=0)}function b(b,e,f,g){c&&c.destroy(),d&&d.destroy();var h=document.createElement("div");h.setAttribute("class","m-prompt-shade js-prompt-shade"),h.destroy=function(){this.style.opacity=0};var i=document.createElement("div");i.setAttribute("class","m-prompt js-prompt"),i.destroy=function(){this.style.opacity=0};var j=document.createElement("div");j.setAttribute("class","m-prompt-message");var k=document.createElement("h1");k.setAttribute("class","m-prompt-heading"),k.textContent=b;var l=document.createElement("p");l.setAttribute("class","m-prompt-text"),l.textContent=e;var m=document.createElement("div");m.setAttribute("class","m-prompt-controls");var n=document.createElement("a");n.className="button button-primary button-block",n.textContent=f;var o=document.createElement("a");o.setAttribute("class","button button-block"),o.textContent="Cancel",m.appendChild(o),m.appendChild(n),j.appendChild(k),0!=e&&j.appendChild(l),i.appendChild(j),i.appendChild(m),"download"==g?(n.addEventListener("click",g,!1),n.setAttribute("download",sheet.getCharacter().basics.name+".json"),n.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(sheet.getCharacter()),null," ")):n.addEventListener("click",g,!1),n.addEventListener("click",a,!1),o.addEventListener("click",a,!1),h.addEventListener("click",a,!1),i.addEventListener("transitionend",function(a,b){"opacity"===a.propertyName&&0==this.style.opacity&&(this.parentElement.removeChild(this),c===this&&(c=null))}.bind(i),!1),h.addEventListener("transitionend",function(a,b){"opacity"===a.propertyName&&0==this.style.opacity&&(this.parentElement.removeChild(this),d===this&&(d=null))}.bind(h),!1),d=h,c=i,document.body.appendChild(h),document.body.appendChild(i),getComputedStyle(i).opacity,getComputedStyle(h).opacity,i.style.opacity=1,h.style.opacity=1,helper.addClass(i,"is-reveal"),helper.addClass(h,"is-reveal"),window.addEventListener("keydown",function(b){27==b.keyCode&&a()},!1)}var c=null,d=null;return{destroy:a,render:b}}(),snack=function(){function a(){var a=helper.e(".js-snack-bar");a&&(getComputedStyle(a).opacity,a.style.opacity=0)}function b(b,d){c&&c.destroy();var e=document.createElement("aside");e.setAttribute("class","m-snack-bar js-snack-bar"),e.destroy=function(){this.style.opacity=0},e.addEventListener("transitionend",function(a,b){"opacity"===a.propertyName&&0==this.style.opacity&&(this.parentElement.removeChild(this),c===this&&(c=null))}.bind(e),!1);var f=document.createElement("p");if(f.className="m-snack-bar-message",f.textContent=b,e.appendChild(f),d){var g=e.destroy.bind(e),h=document.createElement("a");h.className="button button-tertiary m-snack-bar-button",h.textContent=d,h.addEventListener("click",g),e.appendChild(h)}setTimeout(function(){c===this&&c.destroy()}.bind(e),5e3),c=e,document.body.appendChild(e),getComputedStyle(e).opacity,e.style.opacity=1,helper.addClass(e,"is-reveal"),window.addEventListener("keydown",function(b){27==b.keyCode&&a()},!1)}var c=null;return{destroy:a,render:b}}(),clone=function(){function a(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-8"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="consumable-item-'+a+'">Item</label><input id="consumable-item-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-consumable-item" type="text" tabindex="3"></div></div><div class="col-xs-2"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="consumable-total-'+a+'">Total</label><input id="consumable-total-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-consumable-total" type="text" tabindex="3"></div></div><div class="col-xs-2"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="consumable-used-'+a+'">Used</label><input id="consumable-used-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-consumable-used" type="text" tabindex="3"></div></div></div></div><div class="col-xs-3 col-xs-offset-9"><div class="m-clone-block-delete-controls"><button class="button button-primary button-block js-clone-block-delete" tabindex="3"><span class="icon-close"></span></button></div></div></div>';return b}function b(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-5 col-md-4"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-melee-weapon-'+a+'">Melee Weapon</label><input id="attack-melee-weapon-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-melee-weapon" type="text" tabindex="3"></div></div><div class="col-xs-2 col-md-2"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-melee-attack-'+a+'">Attack</label><input id="attack-melee-attack-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-melee-attack" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-3"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-melee-damage-'+a+'">Damage</label><input id="attack-melee-damage-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-melee-damage" type="text" tabindex="3"></div></div><div class="col-xs-2 col-md-3"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-melee-critical-'+a+'">Critical</label><input id="attack-melee-critical-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-melee-critical" type="text" tabindex="3"></div></div></div></div><div class="col-xs-3 col-xs-offset-9"><div class="m-clone-block-delete-controls"><button class="button button-primary button-block js-clone-block-delete" tabindex="3"><span class="icon-close"></span></button></div></div></div>';return b}function c(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-6 col-xl-4"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-weapon-'+a+'">Ranged Weapon</label><input id="attack-ranged-weapon-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-weapon" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xl-2"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-attack-'+a+'">Attack</label><input id="attack-ranged-attack-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-attack" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xl-2"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-damage-'+a+'">Damage</label><input id="attack-ranged-damage-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-damage" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xs-offset-3 col-xl-2 col-xl-offset-0"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-critical-'+a+'">Critical</label><input id="attack-ranged-critical-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-critical" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xl-1"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-range-'+a+'">Range</label><input id="attack-ranged-range-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-range" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xl-1"><div class="m-input-block js-input-block"><label class="m-input-block-label js-input-block-label" for="attack-ranged-ammo-'+a+'">Ammo</label><input id="attack-ranged-ammo-'+a+'" class="m-input-block-field u-full-width js-input-block-field js-clone-attack-ranged-ammo" type="text" tabindex="3"></div></div></div></div><div class="col-xs-3 col-xs-offset-9"><div class="m-clone-block-delete-controls"><button class="button button-primary button-block js-clone-block-delete" tabindex="3"><span class="icon-close"></span></button></div></div></div>';
return b}function d(a){a.value<=0?a.value="":a.value>=100&&(a.value=100)}function e(){var a=helper.e(".js-clone-block-consumable"),b=helper.e(".js-clone-block-attack"),c=a.querySelector(".js-clone-add-consumable"),d=a.querySelector(".js-clone-remove"),e=b.querySelector(".js-clone-add-melee"),g=b.querySelector(".js-clone-add-ranged"),i=b.querySelector(".js-clone-remove");c.addEventListener("click",function(){f(1,"consumable"),u(),sheet.storeCharacters(),h("consumable")<=99&&snack.render("Consumable added.",!1,!1)},!1),d.addEventListener("click",function(){n("consumable"),u(),sheet.storeCharacters()},!1),e.addEventListener("click",function(){f(1,"attack-melee"),s(),sheet.storeCharacters(),h("attack-melee")<=99&&snack.render("Melee attack added.",!1,!1)},!1),g.addEventListener("click",function(){f(1,"attack-ranged"),t(),sheet.storeCharacters(),h("attack-ranged")<=99&&snack.render("Ranged attack added.",!1,!1)},!1),i.addEventListener("click",function(){n("attack"),s(),t(),sheet.storeCharacters()},!1)}function f(d,e){var f,g;"attack-melee"==e&&(f=helper.e(".js-clone-block-attack"),g=f.querySelector(".js-clone-block-target-attack-melee")),"attack-ranged"==e&&(f=helper.e(".js-clone-block-attack"),g=f.querySelector(".js-clone-block-target-attack-ranged")),"consumable"==e&&(f=helper.e(".js-clone-block-consumable"),g=f.querySelector(".js-clone-block-target-consumable"));for(var h=0;d>h;h++){var i,n=g.querySelectorAll(".js-clone").length,o=h,p=document.createElement("div");p.setAttribute("class","m-clone js-clone"),n>o&&(o=n),"consumable"==e&&(i=a(o)),"attack-melee"==e&&(i=b(o)),"attack-ranged"==e&&(i=c(o)),p.innerHTML=i,99>=n&&(g.appendChild(p),"consumable"==e&&m(p.querySelectorAll(".js-input-block")),"attack-melee"==e&&k(p.querySelectorAll(".js-input-block")),"attack-ranged"==e&&l(p.querySelectorAll(".js-input-block")),j(p.querySelector(".js-clone-block-delete"),e))}}function g(a,b){var c,d;"attack-melee"==b&&(c=helper.e(".js-clone-block-attack"),d=c.querySelector(".js-clone-block-target-attack-melee")),"attack-ranged"==b&&(c=helper.e(".js-clone-block-attack"),d=c.querySelector(".js-clone-block-target-attack-ranged")),"consumable"==b&&(c=helper.e(".js-clone-block-consumable"),d=c.querySelector(".js-clone-block-target-consumable"));for(var e=0;e<a.length;e++)for(var f in a[e]){var g;"consumable"==b&&(g=d.querySelector("#consumable-"+f.replace(/_/g,"-")+"-"+e)),"attack-melee"==b&&(g=d.querySelector("#attack-melee-"+f.replace(/_/g,"-")+"-"+e)),"attack-ranged"==b&&(g=d.querySelector("#attack-ranged-"+f.replace(/_/g,"-")+"-"+e)),g.value=a[e][f],inputBlock.update(g)}}function h(a){var b,c,d;return"attack-melee"==a&&(b=helper.e(".js-clone-block-attack"),c=b.querySelector(".js-clone-block-target-attack-melee"),d=c.querySelectorAll(".js-clone").length),("attack-melee"==a||"attack-ranged"==a)&&(b=helper.e(".js-clone-block-attack"),c=b.querySelector(".js-clone-block-target-attack-ranged"),d=c.querySelectorAll(".js-clone").length),"consumable"==a&&(b=helper.e(".js-clone-block-consumable"),c=b.querySelector(".js-clone-block-target-consumable"),d=c.querySelectorAll(".js-clone").length),d}function i(a){var b,c;"attack-melee"==a&&(b=helper.e(".js-clone-block-attack"),c=b.querySelector(".js-clone-block-target-attack-melee")),"attack-ranged"==a&&(b=helper.e(".js-clone-block-attack"),c=b.querySelector(".js-clone-block-target-attack-ranged")),"consumable"==a&&(b=helper.e(".js-clone-block-consumable"),c=b.querySelector(".js-clone-block-target-consumable"));var d=b.querySelectorAll(".js-clone"),e=b.querySelector(".js-clone-controls"),f=e.querySelector(".js-clone-remove");0==d.length&&(b.dataset.deleteCloneState="false",helper.removeClass(b,"is-delete-state"),helper.removeClass(f,"is-active"))}function j(a,b){a.addEventListener("click",function(){o(this,b),s(),t(),u(),sheet.storeCharacters(),"consumable"==b&&(i("consumable"),snack.render("Consumable removed.",!1,!1)),"attack-melee"==b&&(i("attack-melee"),snack.render("Melee attack removed.",!1,!1)),"attack-ranged"==b&&(i("attack-ranged"),snack.render("Ranged attack removed.",!1,!1))},!1)}function k(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".js-input-block-field");c.addEventListener("input",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function l(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".js-input-block-field");c.addEventListener("input",function(){t(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){t(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){t(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function m(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".js-input-block-field");(c.classList.contains("consumable-used")||c.classList.contains("consumable-total"))&&(c.addEventListener("input",function(){d(this)},!1),c.addEventListener("focus",function(){d(this)},!1),c.addEventListener("blur",function(){d(this)},!1)),c.addEventListener("input",function(){u(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){u(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){u(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function n(a){var b=helper.e(".js-clone-block-"+a),c=b.querySelector(".js-clone-controls"),d=c.querySelector(".js-clone-remove"),e=b.querySelectorAll(".js-clone").length;helper.toggleClass(d,"is-active"),"true"==b.dataset.deleteCloneState?(helper.removeClass(b,"is-delete-state"),b.dataset.deleteCloneState="false"):"false"==b.dataset.deleteCloneState&&(helper.addClass(b,"is-delete-state"),b.dataset.deleteCloneState="true"),0==e&&(helper.removeClass(b,"is-delete-state"),b.dataset.deleteCloneState="false",helper.removeClass(d,"is-active"))}function o(a){var b=helper.getClosest(a,".js-clone");b.remove()}function p(a,b,c,d){return{weapon:this.weapon=a,attack:this.attack=b,damage:this.damage=c,critical:this.critical=d}}function q(a,b,c,d,e,f){return{weapon:this.weapon=a,attack:this.attack=b,damage:this.damage=c,critical:this.critical=d,range:this.range=e,ammo:this.ammo=f}}function r(a,b,c){return{item:this.item=a,total:this.total=b,used:this.used=c}}function s(){for(var a=helper.e(".js-clone-block-target-attack-melee"),b=a.querySelectorAll(".js-clone"),c=[],d=0;d<b.length;d++){var e=b[d].querySelector(".js-clone-attack-melee-weapon").value||"",f=b[d].querySelector(".js-clone-attack-melee-attack").value||"",g=b[d].querySelector(".js-clone-attack-melee-damage").value||"",h=b[d].querySelector(".js-clone-attack-melee-critical").value||"",i=new p(e,f,g,h);c.push(i)}sheet.getCharacter().offense.attack.melee=c}function t(){for(var a=helper.e(".js-clone-block-target-attack-ranged"),b=a.querySelectorAll(".js-clone"),c=[],d=0;d<b.length;d++){var e=b[d].querySelector(".js-clone-attack-ranged-weapon").value||"",f=b[d].querySelector(".js-clone-attack-ranged-attack").value||"",g=b[d].querySelector(".js-clone-attack-ranged-damage").value||"",h=b[d].querySelector(".js-clone-attack-ranged-critical").value||"",i=b[d].querySelector(".js-clone-attack-ranged-range").value||"",j=b[d].querySelector(".js-clone-attack-ranged-ammo").value||"",k=new q(e,f,g,h,i,j);c.push(k)}sheet.getCharacter().offense.attack.ranged=c}function u(){for(var a=helper.e(".js-clone-block-target-consumable"),b=a.querySelectorAll(".js-clone"),c=[],d=0;d<b.length;d++){var e=b[d].querySelector(".js-clone-consumable-item").value||"",f=b[d].querySelector(".js-clone-consumable-total").value||"",g=b[d].querySelector(".js-clone-consumable-used").value||"",h=new r(e,f,g);c.push(h)}sheet.getCharacter().equipment.consumable=c}function v(){var a=sheet.getCharacter().offense.attack.melee,b=sheet.getCharacter().offense.attack.ranged,c=sheet.getCharacter().equipment.consumable;f(a.length,"attack-melee"),f(b.length,"attack-ranged"),f(c.length,"consumable"),g(a,"attack-melee"),g(b,"attack-ranged"),g(c,"consumable")}function w(){for(var a=helper.eA(".js-clone-block-target"),b=0;b<a.length;b++)for(;a[b].lastChild;)a[b].removeChild(a[b].lastChild)}return{bind:e,clear:w,render:v}}(),inputBlock=function(){function a(a){var b=a.dataset.path;helper.updateObject(sheet.getCharacter(),b,a.value),sheet.storeCharacters()}function b(a){var b,c=helper.getClosest(a,".js-input-block"),d=c.querySelector(".js-input-block-field");c.querySelector(".js-input-block-label")&&(b=c.querySelector(".js-input-block-label")),c.querySelector(".js-input-block-label")&&(d==document.activeElement?helper.addClass(b,"is-active"):helper.removeClass(b,"is-active"),""==a.value&&d!=document.activeElement?helper.removeClass(b,"is-active"):helper.addClass(b,"is-active"))}function c(){for(var a=helper.eA(".js-input-block"),b=0;b<a.length;b++){a[b].querySelector(".js-input-block-field").value="";var c;a[b].querySelector(".js-input-block-label")&&(c=a[b].querySelector(".js-input-block-label"),helper.removeClass(c,"is-active"))}}function d(a){b(a)}function e(){h(),i(),j(),k(),f()}function f(){for(var a=helper.eA(".js-input-controls"),b=0;b<a.length;b++){var c=a[b].querySelector(".add"),d=a[b].querySelector(".minus");c.addEventListener("click",function(){g(this)},!1),d.addEventListener("click",function(){g(this)},!1)}}function g(b){var c;b.dataset.add&&(c=helper.e("#"+b.dataset.add),c.value=(parseInt(c.value,10)||0)+1),b.dataset.minus&&(c=helper.e("#"+b.dataset.minus),c.value=(parseInt(c.value,10)||0)-1),a(c),d(c),totalBlock.update()}function h(){for(var c=helper.eA(".js-input-block"),d=0;d<c.length;d++){var e=c[d].querySelector(".js-input-block-field");e&&(e.addEventListener("input",function(){a(this),b(this),totalBlock.update()},!1),e.addEventListener("focus",function(){a(this),b(this),totalBlock.update()},!1),e.addEventListener("blur",function(){a(this),b(this),totalBlock.update()},!1))}}function i(){var a=helper.e(".js-basics-name");a.addEventListener("input",function(){nav.update(this)},!1),a.addEventListener("focus",function(){nav.update(this)},!1),a.addEventListener("blur",function(){nav.update(this)},!1)}function j(){var a=helper.e(".js-basics-class");a.addEventListener("input",function(){nav.update(this)},!1),a.addEventListener("focus",function(){nav.update(this)},!1),a.addEventListener("blur",function(){nav.update(this)},!1)}function k(){var a=helper.e(".js-basics-level");a.addEventListener("input",function(){nav.update(this)},!1),a.addEventListener("focus",function(){nav.update(this)},!1),a.addEventListener("blur",function(){nav.update(this)},!1)}function l(){for(var a=helper.eA(".js-input-block-field"),b=0;b<a.length;b++){var c=a[b].dataset.path;if(c){var e=helper.getObject(sheet.getCharacter(),c);a[b].value=e,d(a[b])}}}return{update:d,focus:b,render:l,clear:c,bind:e}}(),textareaBlock=function(){function a(a){var b=a.dataset.path;helper.updateObject(sheet.getCharacter(),b,a.innerHTML),sheet.storeCharacters()}function b(a){var b,c=helper.getClosest(a,".js-textarea-block"),d=c.querySelector(".js-textarea-block-field");c.querySelector(".js-textarea-block-label")&&(b=c.querySelector(".js-textarea-block-label")),c.querySelector(".js-textarea-block-label")&&(d==document.activeElement?helper.addClass(b,"is-active"):helper.removeClass(b,"is-active"),""==a.innerHTML&&d!=document.activeElement?helper.removeClass(b,"is-active"):helper.addClass(b,"is-active"))}function c(){for(var a=helper.eA(".js-textarea-block"),b=0;b<a.length;b++){a[b].querySelector(".js-textarea-block-field").innerHTML="";var c;a[b].querySelector(".js-textarea-block-label")&&(c=a[b].querySelector(".js-textarea-block-label"),helper.removeClass(c,"is-active"))}}function d(a){b(a)}function e(){for(var c=helper.eA(".js-textarea-block"),d=0;d<c.length;d++){var e=c[d].querySelector(".js-textarea-block-field"),g=c[d].querySelector(".js-textarea-block-label");e&&(e.addEventListener("input",function(){a(this),b(this)},!1),e.addEventListener("focus",function(){a(this),b(this)},!1),e.addEventListener("blur",function(){a(this),b(this)},!1)),g&&g.addEventListener("click",function(){f(this)},!1)}}function f(a){var b=helper.getClosest(a,".js-textarea-block"),c=b.querySelector(".js-textarea-block-field");c.focus()}function g(){for(var a=helper.eA(".js-textarea-block-field"),b=0;b<a.length;b++){var c=a[b].dataset.path;if(c){var e=helper.getObject(sheet.getCharacter(),c);a[b].innerHTML=e,d(a[b])}}}return{update:d,focus:b,render:g,clear:c,bind:e}}(),spells=function(){function a(){for(var a=helper.e(".js-spell-prepare"),c=helper.e(".js-spell-unprepare"),d=helper.e(".js-spell-cast"),f=helper.e(".js-spell-active"),h=helper.e(".js-spell-remove"),j=helper.eA(".js-new-spell-add"),k=0;k<j.length;k++)j[k].addEventListener("click",function(){g(helper.getClosest(this,".js-new-spell").querySelector(".js-new-spell-field")),i(!0),sheet.storeCharacters()},!1);for(var k=0;k<j.length;k++){var l=helper.getClosest(j[k],".js-new-spell"),m=l.querySelector(".js-new-spell-field");m.addEventListener("keypress",function(){b(this)},!1)}a.addEventListener("click",function(){e(this)},!1),c.addEventListener("click",function(){e(this)},!1),d.addEventListener("click",function(){e(this)},!1),f.addEventListener("click",function(){e(this)},!1),h.addEventListener("click",function(){e(this)},!1)}function b(a){var b=event.keyCode||event.which;13==b&&(g(a),i(!0),sheet.storeCharacters())}function c(a){a.addEventListener("click",function(){d(this),sheet.storeCharacters(),f()},!1)}function d(a){var b=helper.getClosest(a,".js-spells"),c=(helper.getClosest(a,".js-spell-book").dataset.spellLevel,a.querySelector(".js-spell-marks")),d=a.querySelector(".js-spell-active"),e=b.dataset.spellState;if("prepare"==e){var f=document.createElement("span");f.setAttribute("class","icon icon-radio-button-checked js-spell-mark-checked"),c.children.length<=15&&c.appendChild(f),c.children.length>0&&helper.addClass(a,"button-primary")}if("unprepare"==e&&(c.lastChild&&c.lastChild.remove(),c.children.length<=0&&helper.removeClass(a,"button-primary")),"cast"==e){for(var g=c.children,h=0,j=0;j<g.length;j++)if(g[j].classList.contains("icon-radio-button-checked")){helper.toggleClass(g[j],"icon-radio-button-checked"),helper.toggleClass(g[j],"icon-radio-button-unchecked"),helper.toggleClass(g[j],"js-spell-mark-checked"),helper.toggleClass(g[j],"js-spell-mark-unchecked");break}for(var j=0;j<g.length;j++)g[j].classList.contains("icon-radio-button-checked")&&h++;0>=h&&helper.removeClass(a,"button-primary")}if("active"==e){var k=document.createElement("span");k.setAttribute("class","icon icon-play-arrow"),c.children.length>0&&(d.children.length>0?d.firstChild.remove():d.appendChild(k)),c.children.length<=0&&d.children.length>0&&d.firstChild.remove()}if("remove"==e){var l=a.textContent;a.remove(),snack.render(helper.truncate(l,40,!0)+" removed.",!1,!1)}i()}function e(a){var b=helper.e(".js-spells"),c=(helper.e(".js-spell-prepare"),helper.e(".js-spell-unprepare"),helper.e(".js-spell-cast"),helper.e(".js-spell-active"),helper.e(".js-spell-remove"),b.querySelectorAll(".js-spell-state-control"));helper.eA(".js-spell");if(b.dataset.spellState!=a.dataset.state){helper.removeClass(a,"is-active"),helper.removeClass(b,"is-state-prepare"),helper.removeClass(b,"is-state-unprepare"),helper.removeClass(b,"is-state-cast"),helper.removeClass(b,"is-state-active"),helper.removeClass(b,"is-state-remove"),helper.addClass(b,"is-state-"+a.dataset.state),b.dataset.spellState=a.dataset.state;for(var d=0;d<c.length;d++)helper.removeClass(c[d],"is-active");helper.addClass(a,"is-active")}else b.dataset.spellState="false",helper.removeClass(a,"is-active"),helper.removeClass(b,"is-state-prepare"),helper.removeClass(b,"is-state-unprepare"),helper.removeClass(b,"is-state-cast"),helper.removeClass(b,"is-state-active"),helper.removeClass(b,"is-state-remove")}function f(){var a=helper.e(".js-spells"),b=(helper.e(".js-spell-prepare"),helper.e(".js-spell-unprepare"),helper.e(".js-spell-cast"),helper.e(".js-spell-active"),helper.e(".js-spell-remove"),a.querySelectorAll(".js-spell-state-control")),c=helper.eA(".js-spell");if(0==c.length){for(var d=0;d<b.length;d++)helper.removeClass(b[d],"is-active");a.dataset.spellState="false"}}function g(a){var b=helper.getClosest(a,".js-spell-book").dataset.spellLevel,c=a.value,d=new h(c,0,!1,0);""!==c&&(isNaN(c.charAt(0))?(k([d],b),a.value="",snack.render(helper.truncate(c,40,!0)+" added to spell level "+b+".",!1,!1)):snack.render("Name can't start with a space or number.",!1,!1))}function h(a,b,c,d){return{name:this.name=a,prepared:this.prepared=b||0,active:this.active=c||!1,cast:this.cast=d||0}}function i(a){var b=helper.e(".js-spells"),c=b.dataset.spellState,d=b.querySelectorAll(".js-spell-book-known");if("prepare"==c||"unprepare"==c||"cast"==c||"active"==c||"remove"==c||a)for(var e=0;e<d.length;e++){for(var f=[],g=d[e].querySelectorAll(".js-spell"),i=0;i<g.length;i++){var j=g[i].textContent,k=g[i].querySelector(".js-spell-marks").children.length,l=g[i].querySelector(".js-spell-marks").querySelectorAll(".js-spell-mark-unchecked").length,m=g[i].querySelector(".js-spell-active").children.length;m=m>0?!0:!1;var n=new h(j,k,m,l);f.push(n)}sheet.getCharacter().spells.book[e]["level_"+e]=f}}function j(){var a;if(sheet.getCharacter().spells.book)for(var b in sheet.getCharacter().spells.book){for(var c in sheet.getCharacter().spells.book[b])a=sheet.getCharacter().spells.book[b][c];k(a,b)}}function k(a,b){for(var d=0;d<a.length;d++){var e=a[d],f=helper.e(".js-spell-book-known-level-"+b),g=l(e.name);f.appendChild(g);var h=g.querySelector(".js-spell-marks"),i=g.querySelector(".js-spell-active");if(e.prepared>0){helper.addClass(g,"button-primary");for(var j=0;j<e.prepared;j++){var k=document.createElement("span");k.setAttribute("class","icon icon-radio-button-checked js-spell-mark-checked"),h.insertBefore(k,h.firstChild)}}if(e.cast>0){for(var m=h.querySelectorAll(".icon-radio-button-checked"),j=0;j<e.cast;j++)m[j]&&(helper.toggleClass(m[j],"icon-radio-button-checked"),helper.toggleClass(m[j],"icon-radio-button-unchecked"),helper.toggleClass(m[j],"js-spell-mark-checked"),helper.toggleClass(m[j],"js-spell-mark-unchecked"));e.cast>=e.prepared&&helper.removeClass(g,"button-primary")}if(e.active){var n=document.createElement("span");n.setAttribute("class","icon icon-play-arrow"),e.prepared>0&&(i.children.length>0?i.firstChild.remove():i.appendChild(n))}c(g)}}function l(a){var b=document.createElement("button");b.setAttribute("data-spell-name",a.replace(/\s+/g,"-").toLowerCase()),b.setAttribute("id",a.replace(/\s+/g,"-").toLowerCase()),b.setAttribute("class","m-spell button js-spell");var c=document.createElement("span");c.setAttribute("class","m-spell-active js-spell-active"),b.appendChild(c);var d=document.createElement("span");d.setAttribute("class","m-spell-name js-spell-name"),d.textContent=a,b.appendChild(d);var e=document.createElement("span");e.setAttribute("class","m-spell-marks js-spell-marks"),b.appendChild(e);var f=document.createElement("span");f.setAttribute("class","m-spell-remove js-spell-remove"),b.appendChild(f);var g=document.createElement("span");return g.setAttribute("class","icon-close"),f.appendChild(g),b}function m(){for(var a=helper.eA(".js-spell-book-known"),b=0;b<a.length;b++)for(;a[b].lastChild;)a[b].removeChild(a[b].lastChild)}return{clear:m,bind:a,render:j}}(),stats=function(){function a(a,c){var d=(parseInt(a.value,10)||0,b(a));c.textContent=d}function b(a){var b=Math.floor((a.value-10)/2);return b}function c(){for(var b=helper.eA(".js-stats"),c=0;c<b.length;c++){var d=b[c].querySelector(".js-stats-score"),e=b[c].querySelector(".js-stats-modifier"),f=b[c].querySelector(".js-stats-score-temp"),g=b[c].querySelector(".js-stats-modifier-temp");""!==d.value?a(d,e):e.textContent="",""!==f.value?a(f,g):g.textContent=""}}function d(){for(var a=helper.eA(".js-stats-score"),b=helper.eA(".js-stats-score-temp"),d=0;d<a.length;d++)a[d].addEventListener("input",function(){c(),totalBlock.update()},!1);for(var d=0;d<b.length;d++)b[d].addEventListener("input",function(){c(),totalBlock.update()},!1)}return{render:c,bind:d}}(),totalBlock=function(){function a(){for(var a=helper.eA(".js-total-block-toggle"),b=0;b<a.length;b++){var c=a[b].querySelector(".js-total-block-toggle-check"),d=c.dataset.path,e=c.dataset.bonusType,f=helper.getObject(sheet.getCharacter(),d),g=helper.getClosest(c,".js-total-block");c.checked=f,f&&("str-bonus"==e&&(g.dataset.strBonus="true"),"dex-bonus"==e&&(g.dataset.dexBonus="true"),"con-bonus"==e&&(g.dataset.conBonus="true"),"int-bonus"==e&&(g.dataset.intBonus="true"),"wis-bonus"==e&&(g.dataset.wisBonus="true"),"cha-bonus"==e&&(g.dataset.chaBonus="true"),"bab"==e&&(g.dataset.babBonus="true"),"size"==e&&(g.dataset.sizeBonus="true"),"special-size"==e&&(g.dataset.specialSizeBonus="true"),"level"==e&&(g.dataset.levelBonus="true"),"half-level"==e&&(g.dataset.halfLevelBonus="true"),"plus-ten"==e&&(g.dataset.plusTenBonus="true"),"ac-armor"==e&&(g.dataset.acArmor="true"),"ac-shield"==e&&(g.dataset.acShield="true"),"ac-deflect"==e&&(g.dataset.acDeflect="true"),"ac-dodge"==e&&(g.dataset.acDodge="true"),"ac-natural"==e&&(g.dataset.acNatural="true"),"class-skill"==e&&(g.dataset.classSkill="true"))}}function b(){for(var a=helper.eA(".js-total-block"),b=0;b<a.length;b++){var c=helper.e(".js-stats-str-modifier"),d=helper.e(".js-stats-dex-modifier"),e=helper.e(".js-stats-con-modifier"),f=helper.e(".js-stats-int-modifier"),g=helper.e(".js-stats-wis-modifier"),h=helper.e(".js-stats-cha-modifier"),i=helper.e(".js-stats-str-modifier-temp"),j=helper.e(".js-stats-dex-modifier-temp"),k=helper.e(".js-stats-con-modifier-temp"),l=helper.e(".js-stats-int-modifier-temp"),m=helper.e(".js-stats-wis-modifier-temp"),n=helper.e(".js-stats-cha-modifier-temp"),o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0;"true"==a[b].dataset.strBonus&&(o=""==i.textContent?parseInt(c.textContent,10):parseInt(i.textContent,10)),"true"==a[b].dataset.dexBonus&&(p=""==j.textContent?parseInt(d.textContent,10):parseInt(j.textContent,10)),"true"==a[b].dataset.conBonus&&(q=""==k.textContent?parseInt(e.textContent,10):parseInt(k.textContent,10)),"true"==a[b].dataset.intBonus&&(r=""==l.textContent?parseInt(f.textContent,10):parseInt(l.textContent,10)),"true"==a[b].dataset.wisBonus&&(s=""==m.textContent?parseInt(g.textContent,10):parseInt(m.textContent,10)),"true"==a[b].dataset.chaBonus&&(t=""==n.textContent?parseInt(h.textContent,10):parseInt(n.textContent,10)),"true"==a[b].dataset.babBonus&&(u=parseInt(helper.e("#offense-base-attack").value,10)),"true"==a[b].dataset.sizeBonus&&(v=parseInt(helper.e("#defense-ac-size-bonus").value,10)),"true"==a[b].dataset.specialSizeBonus&&(w=parseInt(helper.e("#offense-special-size-bonus").value,10)),"true"==a[b].dataset.levelBonus&&(x=parseInt(helper.e("#basics-level").value,10)),"true"==a[b].dataset.halfLevelBonus&&(y=Math.floor(parseInt(helper.e("#basics-level").value,10)/2)),"true"==a[b].dataset.acArmor&&(A=parseInt(helper.e("#defense-ac-armor").value,10)),"true"==a[b].dataset.acShield&&(B=parseInt(helper.e("#defense-ac-shield").value,10)),"true"==a[b].dataset.acDeflect&&(C=parseInt(helper.e("#defense-ac-deflect").value,10)),"true"==a[b].dataset.acDodge&&(D=parseInt(helper.e("#defense-ac-dodge").value,10)),"true"==a[b].dataset.acNatural&&(E=parseInt(helper.e("#defense-ac-natural").value,10)),"true"==a[b].dataset.classSkill&&(F=3),"true"==a[b].dataset.plusTenBonus&&(z=10),isNaN(x)&&(x=0),isNaN(o)&&(o=0),isNaN(p)&&(p=0),isNaN(q)&&(q=0),isNaN(r)&&(r=0),isNaN(s)&&(s=0),isNaN(t)&&(t=0),isNaN(u)&&(u=0),isNaN(v)&&(v=0),isNaN(w)&&(w=0),isNaN(x)&&(x=0),isNaN(z)&&(z=0),isNaN(A)&&(A=0),isNaN(B)&&(B=0),isNaN(C)&&(C=0),isNaN(D)&&(D=0),isNaN(E)&&(E=0),isNaN(F)&&(F=0);for(var G=a[b].querySelector(".js-total-block-total"),H=a[b].querySelectorAll(".js-input-block-field"),I=[],J=0,K=0;K<H.length;K++)H.length>0&&("addition"==H[K].dataset.total&&I.push(parseInt(H[K].value,10)||0),"subtract"==H[K].dataset.total&&I.push(-parseInt(H[K].value,10)||0));I.length>0&&(J=I.reduce(function(a,b){return a+b}));var L=J+x+y+u+v+w+z+o+p+q+r+s+t+A+B+C+D+E+F;G.textContent=L}}function c(a){var b=(helper.getClosest(a,".js-total-block"),a.dataset.path);helper.updateObject(sheet.getCharacter(),b,a.checked),sheet.storeCharacters()}function d(){for(var a=helper.eA(".js-total-block-toggle"),d=0;d<a.length;d++){var f=a[d].querySelector(".js-total-block-toggle-check");f.addEventListener("click",function(){e(this),c(this),b()},!1)}}function e(a){var b=helper.getClosest(a,".js-total-block"),c=a.dataset.bonusType;a.checked?("str-bonus"==c&&(b.dataset.strBonus="true"),"dex-bonus"==c&&(b.dataset.dexBonus="true"),"con-bonus"==c&&(b.dataset.conBonus="true"),"int-bonus"==c&&(b.dataset.intBonus="true"),"wis-bonus"==c&&(b.dataset.wisBonus="true"),"cha-bonus"==c&&(b.dataset.chaBonus="true"),"bab"==c&&(b.dataset.babBonus="true"),"size"==c&&(b.dataset.sizeBonus="true"),"special-size"==c&&(b.dataset.specialSizeBonus="true"),"level"==c&&(b.dataset.levelBonus="true"),"half-level"==c&&(b.dataset.halfLevelBonus="true"),"plus-ten"==c&&(b.dataset.plusTenBonus="true"),"ac-armor"==c&&(b.dataset.acArmor="true"),"ac-shield"==c&&(b.dataset.acShield="true"),"ac-deflect"==c&&(b.dataset.acDeflect="true"),"ac-dodge"==c&&(b.dataset.acDodge="true"),"ac-natural"==c&&(b.dataset.acNatural="true"),"class-skill"==c&&(b.dataset.classSkill="true")):("str-bonus"==c&&(b.dataset.strBonus="false"),"dex-bonus"==c&&(b.dataset.dexBonus="false"),"con-bonus"==c&&(b.dataset.conBonus="false"),"int-bonus"==c&&(b.dataset.intBonus="false"),"wis-bonus"==c&&(b.dataset.wisBonus="false"),"cha-bonus"==c&&(b.dataset.chaBonus="false"),"bab"==c&&(b.dataset.babBonus="false"),"size"==c&&(b.dataset.sizeBonus="false"),"special-size"==c&&(b.dataset.specialSizeBonus="false"),"level"==c&&(b.dataset.levelBonus="false"),"half-level"==c&&(b.dataset.halfLevelBonus="false"),"plus-ten"==c&&(b.dataset.plusTenBonus="false"),"ac-armor"==c&&(b.dataset.acArmor="false"),"ac-shield"==c&&(b.dataset.acShield="false"),"ac-deflect"==c&&(b.dataset.acDeflect="false"),"ac-dodge"==c&&(b.dataset.acDodge="false"),"ac-natural"==c&&(b.dataset.acNatural="false"),"class-skill"==c&&(b.dataset.classSkill="false"))}function f(){for(var a=helper.eA(".js-total-block-toggle"),b=0;b<a.length;b++){var c=a[b].querySelector(".js-total-block-toggle-check"),d=helper.getClosest(c,".js-total-block"),e=c.dataset.bonusType;c.checked&&(c.checked=!1,"str-bonus"==e&&(d.dataset.strBonus="false"),"dex-bonus"==e&&(d.dataset.dexBonus="false"),"con-bonus"==e&&(d.dataset.conBonus="false"),"int-bonus"==e&&(d.dataset.intBonus="false"),"wis-bonus"==e&&(d.dataset.wisBonus="false"),"cha-bonus"==e&&(d.dataset.chaBonus="false"),"bab"==e&&(d.dataset.babBonus="false"),"size"==e&&(d.dataset.sizeBonus="false"),"special-size"==e&&(d.dataset.specialSizeBonus="false"),"level"==e&&(d.dataset.levelBonus="false"),"half-level"==e&&(d.dataset.halfLevelBonus="false"),"plus-ten"==e&&(d.dataset.plusTenBonus="false"),"ac-armor"==e&&(d.dataset.acArmor="false"),"ac-shield"==e&&(d.dataset.acShield="false"),"ac-deflect"==e&&(d.dataset.acDeflect="false"),"ac-dodge"==e&&(d.dataset.acDodge="false"),"ac-natural"==e&&(d.dataset.acNatural="false"),"class-skill"==e&&(d.dataset.classSkill="false"))}}return{bind:d,clear:f,update:b,render:a}}();!function(){sheet.bind(),sheet.render()}();