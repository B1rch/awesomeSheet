"use strict";var blank=function(){var a={basics:{name:"",race:"","class":"",level:"",size:"",alignment:"",xp:"",height:"",weight:"",age:"",gender:"",speed:"",initiative:"",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"",temp:""},dex:{score:"",temp:""},con:{score:"",temp:""},"int":{score:"",temp:""},wis:{score:"",temp:""},cha:{score:"",temp:""}},feats:"",traits:"",languages:"",special_abilities:""},equipment:{gear:"",magic_gear:"",encumbrance:{light:"",medium:"",heavy:""},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"",wrist:""},wealth:{platinum:"",gold:"",silver:"",copper:""},consumable:[]},defense:{hp:{total:"",temp:"",damage:"",non_lethal_damage:""},ac:{flat_footed:{misc:"",temp:"",notes:""},touch:{misc:"",temp:"",notes:""},misc:"",temp:"",armor:"",shield:"",deflect:"",dodge:"",natural:"",size_bonus:"",notes:""},fortitude:{base:"",racial:"",resistance:"",misc:"",temp:""},reflex:{base:"",racial:"",resistance:"",misc:"",temp:""},will:{base:"",racial:"",resistance:"",misc:"",temp:""},defense_notes:""},offense:{base_attack:"",special_size_bonus:"",concentration:"",cmb:{misc:"",temp:""},cmd:{misc:"",temp:""},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[],ranged:[]},attack_notes:""},skills:{acrobatics:{ranks:"",misc:"",class_skill:!1},appraise:{ranks:"",misc:"",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,type:""},craft_2:{ranks:"",misc:"",class_skill:!1,type:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"",misc:"",class_skill:!1},perform_1:{ranks:"",misc:"",class_skill:!1,type:""},perform_2:{ranks:"",misc:"",class_skill:!1,type:""},profession_1:{ranks:"",misc:"",class_skill:!1,type:""},profession_2:{ranks:"",misc:"",class_skill:!1,type:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_2:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_3:{stat:"",name:"",ranks:"",misc:"",class_skill:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[]},notes:{character:"",story:""}};return{data:a}}(),nif=function(){var a={basics:{name:"Nif Amakir",race:"Elf","class":"Wizard",level:"6",size:"Medium",alignment:"Lawful Neutral",xp:"23,264",height:"6'0",weight:"136 lbs",age:"120 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"3",hero_points:"2",luck_points:""},statistics:{stats:{str:{score:"8",temp:""},dex:{score:"17",temp:""},con:{score:"14",temp:""},"int":{score:"21",temp:"23"},wis:{score:"12",temp:""},cha:{score:"10",temp:""}},feats:"Alertness, Augment Summoning, Craft Wondrous Item, Greater Spell Focus (Conjuration), Scribe Scroll, Spell Focus (Conjuration)",traits:"Resilient",languages:"Celestial, Common, Draconic, Dwarven, Elven, Giant, Gnome, Goblin, Orc, Sylvan, Undercommon",special_abilities:"Arcane bond (Su), Bonus feats, Cantrips, Arcane schools, Teleportation sub school, Opposition arcane school, Elven Immunities (Ex), Elven Magic (Ex), Keen Senses (Ex), Low-Light Vision (Ex), Headband of Vast Intelligence skill (Use Magic Device), Linguistics Skill (Dwarven, Giant, Undercommon), Shift (Su), Summoner's Charm (Su), Weapon Familiarity (Ex)"},equipment:{gear:"Spell component pouch, Spellbook, Backpack, Flask of Oil x3, Pouch (belt), Sack, Candle, Flint and Steel, Tindertwig, Rations (5 days), Waterskin, Bedroll, Blanket, Bloodblock, Healer's Kik, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper sheets, Case for maps/scrolls, Scroll Case, Combat trained horse",magic_gear:"Pearl of Power (1st Level), Potion of CLW x1, Potion of Aid, Vile of Antitoxin, Vile of Holy Water, Scroll of Acid Pit x1, Scroll of Summon Monster III x5, Scroll of Invisibility x2, Scroll of Create Pit x1, Scroll of Web x4, Scroll of Stinking Cloud x2, Scroll of Grease x2, Scroll of Mirror Image x3, Scroll of Spiked Pit x3 Scroll of Fly x2",encumbrance:{light:"26 lbs or less",medium:"27–53 lbs",heavy:"54–80 lbs"},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"Headband of Vast Intelligence +2",neck:"Amulet of Natural Armor +1",ring_left_hand:"Ring of Sustenance",ring_right_hand:"",shield:"",shoulders:"Cloak of Resistance +2",wrist:""},wealth:{platinum:"",gold:"1,090",silver:"",copper:""},consumable:[{item:"Wand of Infernal Healing",total:"50",used:"48"},{item:"Wand of Lightning Bolt",total:"50",used:"38"},{item:"Shift",total:"9",used:""}]},defense:{hp:{total:"42",temp:"",damage:"",non_lethal_damage:""},ac:{flat_footed:{misc:"",temp:"",notes:""},touch:{misc:"",temp:"",notes:""},misc:"",temp:"",armor:"",shield:"",deflect:"",dodge:"",natural:"1",size_bonus:"",notes:""},fortitude:{base:"2",racial:"",resistance:"2",misc:"3",temp:""},reflex:{base:"2",racial:"",resistance:"2",misc:"",temp:""},will:{base:"5",racial:"",resistance:"2",misc:"",temp:""},defense_notes:"Immune to sleep effecrs, +2 against enchantment spells and effects"},offense:{base_attack:"3",special_size_bonus:"",concentration:"11",cmb:{misc:"",temp:""},cmd:{misc:"",temp:""},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Dagger (Master Work)",attack:"3",damage:"1d6+1",critical:"19–20/x2"}],ranged:[{weapon:"Shortbow",attack:"6",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:""},skills:{acrobatics:{ranks:"",misc:"",class_skill:!1},appraise:{ranks:"2",misc:"",class_skill:!0},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,type:""},craft_2:{ranks:"",misc:"",class_skill:!1,type:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"2",misc:"",class_skill:!0},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"3",misc:"",class_skill:!0},knowledge_dungeoneering:{ranks:"2",misc:"",class_skill:!0},knowledge_engineering:{ranks:"1",misc:"",class_skill:!0},knowledge_geography:{ranks:"1",misc:"",class_skill:!0},knowledge_history:{ranks:"1",misc:"",class_skill:!0},knowledge_local:{ranks:"1",misc:"",class_skill:!0},knowledge_nature:{ranks:"1",misc:"",class_skill:!0},knowledge_nobility:{ranks:"1",misc:"",class_skill:!0},knowledge_planes:{ranks:"3",misc:"",class_skill:!0},knowledge_religion:{ranks:"3",misc:"",class_skill:!0},linguistics:{ranks:"3",misc:"",class_skill:!0},perception:{ranks:"6",misc:"4",class_skill:!1},perform_1:{ranks:"",misc:"",class_skill:!1,type:""},perform_2:{ranks:"",misc:"",class_skill:!1,type:""},profession_1:{ranks:"",misc:"",class_skill:!1,type:""},profession_2:{ranks:"",misc:"",class_skill:!1,type:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"6",misc:"",class_skill:!0},stealth:{ranks:"",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"6",misc:"",class_skill:!1},custom_1:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_2:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_3:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_4:{stat:"",name:"",ranks:"",misc:"",class_skill:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"16",level_1:"17",level_2:"18",level_3:"19",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"4",level_1:"5",level_2:"4",level_3:"3",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{name:"Bleed",level:0,prepared:0,active:!1,cast:0},{name:"Erase",level:0,prepared:0,active:!1,cast:0},{name:"Daze",level:0,prepared:0,active:!1,cast:0},{name:"Disrupt Undead",level:0,prepared:0,active:!1,cast:0},{name:"Touch of Fatigue",level:0,prepared:0,active:!1,cast:0},{name:"Prestidigitation",level:0,prepared:0,active:!1,cast:0},{name:"Light",level:0,prepared:0,active:!1,cast:0},{name:"Ghost Sound",level:0,prepared:0,active:!1,cast:0},{name:"Spark",level:0,prepared:0,active:!1,cast:0},{name:"Acid Splash",level:0,prepared:0,active:!1,cast:0},{name:"Mage Hand",level:0,prepared:0,active:!1,cast:0},{name:"Flare",level:0,prepared:0,active:!1,cast:0},{name:"Detect Magic",level:0,prepared:1,active:!1,cast:0},{name:"Detect Poison",level:0,prepared:0,active:!1,cast:0},{name:"Dancing Lights",level:0,prepared:1,active:!1,cast:0},{name:"Mending",level:0,prepared:0,active:!1,cast:0},{name:"Arcane Mark",level:0,prepared:0,active:!1,cast:0},{name:"Message",level:0,prepared:1,active:!1,cast:0},{name:"Ray of Frost",level:0,prepared:0,active:!1,cast:0},{name:"Read Magic",level:0,prepared:1,active:!1,cast:0},{name:"Open Close",level:0,prepared:0,active:!1,cast:0},{name:"Resistance",level:0,prepared:0,active:!1,cast:0},{name:"Comprehend Languages",level:1,prepared:0,active:!1,cast:0},{name:"Enlarge Person",level:1,prepared:0,active:!1,cast:0},{name:"Feather Fall",level:1,prepared:0,active:!1,cast:0},{name:"Grease",level:1,prepared:2,active:!1,cast:0},{name:"Mage Armor",level:1,prepared:0,active:!1,cast:0},{name:"Mount",level:1,prepared:0,active:!1,cast:0},{name:"Obscuring Mist",level:1,prepared:1,active:!1,cast:0},{name:"Protection from Chaos",level:1,prepared:0,active:!1,cast:0},{name:"Protection from Evil",level:1,prepared:2,active:!1,cast:0},{name:"Shield",level:1,prepared:0,active:!1,cast:0},{name:"Summon Monster I",level:1,prepared:0,active:!1,cast:0},{name:"Unseen Servant",level:1,prepared:0,active:!1,cast:0},{name:"Blur",level:2,prepared:0,active:!1,cast:0},{name:"Create Pit",level:2,prepared:0,active:!1,cast:0},{name:"Flaming Sphere",level:2,prepared:0,active:!1,cast:0},{name:"Glitterdust",level:2,prepared:0,active:!1,cast:0},{name:"Invisibility",level:2,prepared:2,active:!1,cast:0},{name:"Levitate",level:2,prepared:0,active:!1,cast:0},{name:"Mirror Image",level:2,prepared:0,active:!1,cast:0},{name:"Resist Energy",level:2,prepared:0,active:!1,cast:0},{name:"Stone Call",level:2,prepared:0,active:!1,cast:0},{name:"Summon Monster II",level:2,prepared:1,active:!1,cast:0},{name:"Web",level:2,prepared:1,active:!1,cast:0},{name:"Stinking Cloud",level:3,prepared:0,active:!1,cast:0},{name:"Summon Monster III",level:3,prepared:1,active:!1,cast:0},{name:"Spiked Pit",level:3,prepared:1,active:!1,cast:0},{name:"Aqueous Orb",level:3,prepared:0,active:!1,cast:0},{name:"Fly",level:3,prepared:1,active:!1,cast:0},{name:"Sleet Storm",level:3,prepared:0,active:!1,cast:0}]},notes:{character:'<strong>Resilient</strong> (+1 trait bonus on Fortitude saves)<br><br><strong>Arcane bond (Su)</strong> Rat Bower, +2 Fortitude save,<br><br><strong>Bonus feats</strong>,<br><br><strong>Cantrips</strong>,<br><br><strong>Arcane schools</strong> Conjuration,<br><br><strong>Teleportation sub school</strong>,<br><br><strong>Opposition arcane school</strong> Enchantment, Necromancy,<br><br><strong>Elven Immunities (Ex)</strong> +2 against enchantment spells and effects,<br><br><strong>Elven Magic (Ex)</strong> +2 caster level checks made to overcome SR. +2 Spellcraft check to identify properties of magic items,<br><br><strong>Keen Senses (Ex)</strong> +2 Perception checks,<br><br><strong>Low-Light Vision (Ex)</strong> See x2 as far as humans in low illumination,<br><br><strong>Headband of Vast Intelligence skill</strong> Use Magic Device,<br><br><strong>Linguistics Skill</strong> Dwarven, Giant, Undercommon,<br><br><strong>Shift (Su)</strong> Teleport 15 feet 9 times per day,<br><br><strong>Summoner\'s Charm (Su)</strong> +2 rounds duration for Conjuration (Summoning) spells,<br><br><strong>Weapon Familiarity (Ex)</strong> Proficient with longbows (including composite longbows), longswords, rapiers, and shortbows (including composite shortbows), treat weapon with "elven" in name as a martial weapon.',story:""}};return{data:a}}(),ro=function(){var a={basics:{name:"Ro Flint",race:"Elf","class":"Magus Bladebound",level:"3",size:"Medium",alignment:"Lawful Neutral",xp:"3,891",height:"6'0",weight:"",age:"120 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"4",hero_points:"",luck_points:""},statistics:{stats:{str:{score:"12",temp:""},dex:{score:"18",temp:""},con:{score:"10",temp:""},"int":{score:"16",temp:""},wis:{score:"10",temp:""},cha:{score:"7",temp:""}},feats:"Weapon Finesse, Dervish Dance, Alertness",traits:"Magical Lineage (Shocking Grasp), Focused Mind (+2 on concentration checks)",languages:"Common, Draconic, Dwarven, Elven, Orc",special_abilities:"Low-Light Vision (Ex), Elven Immunities (Ex), Elven Magic (Ex), Weapon Familiarity (Ex), Keen Senses (Ex), Arcane Pool, Cantrips, Spell Combat (EX), Black Blade (Ex)"},equipment:{gear:"Fur coat and cold weather outfit, Rapier, Spell component pouch, Spellbook, Backpack, Flask of Oil x3, Pouch (belt), Sack, Candle, Flint and Steel, Tindertwig, Rations (5 days), Waterskin, Bedroll, Blanket, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper sheets, Case for maps/scrolls, Tent for 2, Trained Donkey (commands: come, down, stay heal, work), Alchemist Fire (3)",magic_gear:"Short Sword +1, Black Blade Scimitar +1",encumbrance:{light:"43 lbs or less",medium:"44–86 lbs",heavy:"87–130 lbs"},body_slots:{armor:"Studded leather",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"",wrist:""},wealth:{platinum:"",gold:"570",silver:"",copper:""},consumable:[{item:"Arcane Pool",total:"4",used:""},{item:"Black Blade Arcane Pool",total:"1",used:""},{item:"Alchemist Fire",total:"3",used:"2"}]},defense:{hp:{total:"20",temp:"",damage:"",non_lethal_damage:""},ac:{flat_footed:{misc:"",temp:"",notes:""},touch:{misc:"",temp:"",notes:""},misc:"",temp:"",armor:"3",shield:"",deflect:"",dodge:"",natural:"",size_bonus:"",notes:""},fortitude:{base:"3",racial:"",resistance:"",misc:"",temp:""},reflex:{base:"1",racial:"",resistance:"",misc:"",temp:""},will:{base:"3",racial:"",resistance:"",misc:"",temp:""},defense_notes:"Immune to sleep effecrs, +2 against enchantment spells and effects, +7 against cold weather"},offense:{base_attack:"2",special_size_bonus:"",concentration:"8",cmb:{misc:"",temp:""},cmd:{misc:"",temp:""},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Rapier",attack:"6",damage:"1d6+4",critical:"18–20/x2"},{weapon:"Black Blade Scimitar +1",attack:"7",damage:"1d6+5",critical:"18–20/x2"},{weapon:"Spell Strike BB Scimitar +1",attack:"5/5",damage:"1d6+5",critical:"18–20/x2"},{weapon:"Shortsword +1",attack:"7",damage:"1d6+2",critical:"18–20/x2"}],ranged:[{weapon:"Shortbow",attack:"5",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:""},skills:{acrobatics:{ranks:"3",misc:"",class_skill:!1},appraise:{ranks:"",misc:"",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,type:""},craft_2:{ranks:"",misc:"",class_skill:!1,type:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"1",misc:"",class_skill:!0},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"3",misc:"2",class_skill:!1},perform_1:{ranks:"2",misc:"",class_skill:!1,type:"Dance"},perform_2:{ranks:"",misc:"",class_skill:!1,type:""},profession_1:{ranks:"",misc:"",class_skill:!1,type:""},profession_2:{ranks:"",misc:"",class_skill:!1,type:""},ride:{ranks:"2",misc:"",class_skill:!0},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"3",misc:"",class_skill:!0},stealth:{ranks:"1",misc:"",class_skill:!1},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_2:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_3:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_4:{stat:"",name:"",ranks:"",misc:"",class_skill:!1}},spells:{per_day:{level_0:"4",level_1:"4",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"13",level_1:"14",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{name:"Acid Splash",level:0,prepared:0,active:!1,cast:0},{name:"Arcane Mark",level:0,prepared:0,active:!1,cast:0},{name:"Dancing Lights",level:0,prepared:1,active:!1,cast:0},{name:"Daze",level:0,prepared:0,active:!1,cast:0},{name:"Detect Magic",level:0,prepared:1,active:!1,cast:0},{name:"Disrupt Undead",level:0,prepared:0,active:!1,cast:0},{name:"Flare",level:0,prepared:0,active:!1,cast:0},{name:"Ghost Sound",level:0,prepared:0,active:!1,cast:0},{name:"Light",level:0,prepared:0,active:!1,cast:0},{name:"Mage Hand",level:0,prepared:1,active:!1,cast:0},{name:"Open Close",level:0,prepared:0,active:!1,cast:0},{name:"Prestidigitation",level:0,prepared:0,active:!1,cast:0},{name:"Ray of Frost",level:0,prepared:0,active:!1,cast:0},{name:"Read Magic",level:0,prepared:0,active:!1,cast:0},{name:"Spark",level:0,prepared:0,active:!1,cast:0},{name:"Color Spray",level:1,prepared:0,active:!1,cast:0},{name:"Grease",level:1,prepared:0,active:!1,cast:0},{name:"Shocking Grasp",level:1,prepared:2,active:!1,cast:0},{name:"True Strike",level:1,prepared:0,active:!1,cast:0},{name:"Magic Missile",level:1,prepared:0,active:!1,cast:0},{name:"Shield",level:1,prepared:1,active:!1,cast:0},{name:"Vanish",level:1,prepared:0,active:!1,cast:0},{name:"Obscuring Mist",level:1,prepared:0,active:!1,cast:0},{name:"Chill Touch",level:1,prepared:0,active:!1,cast:0},{name:"Frostbite",level:1,prepared:0,active:!1,cast:0},{name:"Infernal Healing",level:1,prepared:0,active:!1,cast:0},{name:"Windy Escape",level:1,prepared:0,active:!1,cast:0},{name:"Unerring Weapon",level:1,prepared:0,active:!1,cast:0},{name:"Ray of Enfeeblement",level:1,prepared:0,active:!1,cast:0}]},notes:{character:'<strong>Low-Light Vision (Ex)</strong> See x2 as far as humans in low illumination,<br><br><strong>Elven Immunities (Ex)</strong> Immune to magic sleep effects, +2 against Enchantment spells and effects,<br><br><strong>Elven Magic (Ex)</strong> +2 caster level checks made to overcome SR. +2 Spellcraft check to identify properties of magic items,<br><br><strong>Weapon Familiarity (Ex)</strong> Proficient with longbows (including composite longbows), longswords, rapiers, and shortbows (including composite shortbows), treat weapon with "elven" in name as a martial weapon),<br><br><strong>Keen Senses (Ex)</strong> +2 Perception checks,<br><br><strong>Arcane Pool</strong> 4,<br><br><strong>Cantrips</strong> <strong>Spell Combat (EX)</strong> cast spells and wield his weapons at the same time.<br><br><strong>Black Blade (Ex)</strong> Bladebound magus\' gain a powerful sentient weapon called a black blade.<br><br><strong>Black Blade Scimitar +1</strong><br>Purpose: To protect the Elves.<br>Enhancement Bonus +1, Int 11, Wis/Cha 7, Ego 5,<br>Special: Alertness, black blade strike, telepathy, unbreakable.',story:""}};return{data:a}}(),vos=function(){var a={basics:{name:"Vos Thunderstomp",race:"Dwarf","class":"Monk",level:"3",size:"Medium",alignment:"Chaotic Neutral",xp:"5,532",height:"5'0",weight:"190 lbs",age:"40 years",gender:"Male",speed:"30 ft, 6 sq",initiative:"2",hero_points:"2",luck_points:""},statistics:{stats:{str:{score:"16",temp:""},dex:{score:"14",temp:""},con:{score:"12",temp:""},"int":{score:"10",temp:""},wis:{score:"14",temp:""},cha:{score:"7",temp:""}},feats:"Improved Grapple, Weapon Focus (Unarmed Strike), Dodge",traits:"",languages:"Common, Dwarven",special_abilities:"Darkvision, Defensive Training, Greed, Hatred, Hardy, Stability, Stonecunning, Weapon Familiarity, Evasion, Flurry of Blows +1/+1 (Ex), Stunning Fist (Ex), Unarmed Strike, Evasion (Ex), Fast Movement (Ex), Maneuver Training (Ex), Still Mind (Ex)"},equipment:{gear:"Backpack, Flask Of Oil (3), Pouch (belt), Sack, Candle, Flint And Steel, Tindertwig, Rations (5 Days), Waterskin, Bedroll, Blanket, Bloodblock, Rope (silk), Mirror, Compass, Ink, Inkpen, Paper Sheets, Case For Maps/scrolls, Torch, Rubbing Poweder, Rubbing Oils, Fine Cheese (1), Smelly Cheese (3), Wine (2), Wrestling Costume (2), Alchemist Fire (3), Dagger, Lavendar soap, Soap bar",magic_gear:"Potion of Cure Light Wounds (2), Potion of Owls Wisdom (1), Kessens Boon (1)",encumbrance:{light:"76 lbs or less",medium:"77–153 lbs",heavy:"154–230 lbs"},body_slots:{armor:"",belts:"",body:"",chest:"",eyes:"",feet:"",hands:"",head:"",headband:"",neck:"",ring_left_hand:"",ring_right_hand:"",shield:"",shoulders:"Cloak of Resistance +1",wrist:"Bracers of Armor +1"},wealth:{platinum:"",gold:"218",silver:"5",copper:""},consumable:[{item:"Scented Oils",total:"5",used:""},{item:"Wand of Cure Light Wounds",total:"50",used:"13"},{item:"Stunning Fist",total:"3",used:""}]},defense:{hp:{total:"26",temp:"",damage:"",non_lethal_damage:""},ac:{flat_footed:{misc:"2",temp:"",notes:""},touch:{misc:"2",temp:"",notes:""},misc:"2",temp:"",armor:"1",shield:"",deflect:"",dodge:"1",natural:"",size_bonus:"",notes:""},fortitude:{base:"3",racial:"",resistance:"1",misc:"",temp:""},reflex:{base:"3",racial:"",resistance:"1",misc:"",temp:""},will:{base:"3",racial:"",resistance:"1",misc:"",temp:""},defense_notes:"+2 against poison, spells, and spell-like abilities, +2 against enchantment spells and effects."},offense:{base_attack:"2",special_size_bonus:"",concentration:"",cmb:{misc:"1",temp:""},cmd:{misc:"2",temp:""},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Flurry of Blows",attack:"4/4",damage:"1d6+3",critical:"20x2"},{weapon:"Grapple",attack:"9",damage:"1d6+3",critical:"20x2"},{weapon:"Maintain Grapple ",attack:"14",damage:"1d6+3",critical:"20x2"},{weapon:"Stunning Fist",attack:"6",damage:"1d6+3",critical:"20x2"}],ranged:[]},attack_notes:"+1 weapon focus (unarmed strike), +2 grapple, +2 to resist grapple"},skills:{acrobatics:{ranks:"3",misc:"",class_skill:!0},appraise:{ranks:"",misc:"2",class_skill:!1},bluff:{ranks:"",misc:"",class_skill:!1},climb:{ranks:"3",misc:"",class_skill:!0},craft_1:{ranks:"",misc:"",class_skill:!1,type:""},craft_2:{ranks:"",misc:"",class_skill:!1,type:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"",misc:"",class_skill:!1},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"",misc:"",class_skill:!1},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"3",misc:"",class_skill:!0},perform_1:{ranks:"",misc:"",class_skill:!1,type:""},perform_2:{ranks:"",misc:"",class_skill:!1,type:""},profession_1:{ranks:"",misc:"",class_skill:!1,type:""},profession_2:{ranks:"",misc:"",class_skill:!1,type:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"",misc:"",class_skill:!1},sleight_of_hand:{ranks:"",misc:"",class_skill:!1},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"3",misc:"",class_skill:!0},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_2:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_3:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_4:{stat:"",name:"",ranks:"",misc:"",class_skill:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[]},notes:{character:'<strong>Darkvision</strong> See in the dark up to 60 feet.<br><br><strong>Defensive Training</strong> +4 dodge bonus to AC against monsters of the giant subtype.<br><br><strong>Greed</strong> +2 racial bonus on Appraise skill checks made to determine the price of nonmagical goods that contain precious metals or gemstones.<br><br><strong>Hatred</strong> +1 bonus on attack rolls against humanoid creatures of the orc and goblinoid subtypes.<br><br><strong>Hardy</strong> +2 racial bonus on saving throws against poison, spells, and spell-like abilities.<br><br><strong>Stability</strong> +4 racial bonus to their Combat Maneuver Defense when resisting a bull rush or trip attempt while standing on the ground.<br><br><strong>Stonecunning</strong> +2 bonus on Perception checks to notice unusual stonework, such as traps and hidden doors located in stone walls or floors.<br><br><strong>Weapon Familiarity</strong> Dwarves are proficient with battleaxes, heavy picks, and warhammers, and treat any weapon with the word "dwarven" in its name as a martial weapon.<br><br><strong>Evasion</strong> On a successful Reflex save against an attack that normally deals half damage take no damage.<br><br><strong>Flurry of Blows (Ex)</strong> +1/+1 Make a flurry of blows as a full-attack. Taking a -2 penalty on all of his attack rolls, as if using the Two-Weapon Fighting feat.<br><br><strong>Stunning Fist (Ex)</strong> Gain Stunning Fist as a bonus feat. Fortitude saving DC 10 + 1/2 your character level + your Wis modifier.<br><br><strong>Unarmed Strike</strong> Gain Improved Unarmed Strike as a bonus feat. Add full Strength bonus on damage rolls for all unarmed strikes. You can choose to deal lethal or nonlethal damage with no penalty on his attack or grappling rolls. Unarmed damage is 1d6 plus Strength bonus.<br><br><strong>Evasion (Ex)</strong> On a successful Reflex save against an attack that normally deals half damage take no damage.<br><br><strong>Weapon Focus</strong> +1 bonus on attack rolls with one weapon (Unarmed Strike)<br><br><strong>Maneuver Training (Ex)</strong> Uses his monk level in place of his base attack bonus when calculating CMB.</div><br><br><strong>Still Mind (Ex)</strong> +2 bonus on saving throws against enchantment spells and effects.</div><br><br><strong>Improved Grapple</strong> You do not provoke an attack of opportunity when performing a grapple combat maneuver. +2 to grapple a foe. +2 CMD whenever an opponent tries to grapple you.',story:"Tamrin: city controlled by the church of the living god<br><br>Black Mist: river bargeSigar: member of pathfinder societyReginar: member of pathfinder society<br><br>Weslin Garvic: forest marshal against the church of the living god<br><br>Aramina Yasgon, half elf, bard: sent into the church<br><br>Olis Tomain, human, fighter: sent into the church<br><br>Floss Blunderstomp: alias"}};return{data:a}}(),marika=function(){var a={basics:{name:"Marika Spandrell",race:"Human","class":"Rogue",level:"9",size:"Medium",alignment:"Chaotic Neutral",xp:"76,000",height:"5’3",weight:"98 lb",age:"23",gender:"Female",speed:"30 ft, 6 sq",initiative:"8",hero_points:"1",luck_points:"2"},statistics:{stats:{str:{score:"12",temp:""},dex:{score:"22",temp:"26"},con:{score:"10",temp:""},"int":{score:"12",temp:""},wis:{score:"12",temp:""},cha:{score:"9",temp:""}},feats:"Deft Hands, Weapon Finesse, Two Weapon Fighting, Improved Two Weapon Fighting, Double Slice, Extra Rogue Talent.",traits:"Child of the Streets, Deft Dodger.",languages:"Common, Giant, Goblin.",special_abilities:"Sneak Attack +5d6, Trapfinding, Trap Sense +3, Uncanny Dodge, Improved Uncanny Dodge, Minor Magic (Mage Hand 3/day), Major Magic (Unseen Servant 2/day), Fast Fingers, Fast Stealth, Powerful Sneak."},equipment:{gear:"Large Black Backpack, Bedroll, Silk Rope, Pencils, Ink, Paper, Sketch Book, Grappling Hook, Flint and Steel, Torch, Masterwork Thieves’ Tools (+2 Disable Device), Magnifying Glass (+2 Appraise), Merchant’s Scale (+2 Appraise), Trail Rations, Bread, Cheese and Wine.",magic_gear:"Potion of Cure Light Wounds (6) Potion of Cure Moderate Wounds (3), Potion of Cure Serious Wounds (2), Potion of BarkSkin (5), Potion of Shield of Faith (2), Rapier +2 (Flaming Crystal), Short Sword +2 (Frost Crystal), Studded Leather +2, Belt of Dexterity +4, Cloak of Resistance +2, Spider Climb Pendent 1/day, Ring of Protection +1, Eyes of the Eagle, Handy Haversack.",encumbrance:{light:"43 lbs or less",medium:"44–86 lbs",heavy:"87–130 lbs"},body_slots:{armor:"Leather +2",belts:"Belt of Dexterity +4",body:"",chest:"",eyes:"Eyes of the Eagle",feet:"Slippers of Spider Climbing",hands:"",head:"",headband:"",neck:"",ring_left_hand:"Ring of Protection +2",ring_right_hand:"",shield:"",shoulders:"Cloak of Resistance +3",wrist:""},wealth:{platinum:"21",gold:"763",silver:"",copper:""},consumable:[{item:"Slippers of Spider Climbing",total:"10",used:""}]},defense:{hp:{total:"53",temp:"",damage:"",non_lethal_damage:""},ac:{flat_footed:{misc:"",temp:"",notes:""},touch:{misc:"",temp:"",notes:""},misc:"",temp:"",armor:"4",shield:"",
deflect:"2",dodge:"",natural:"",size_bonus:"",notes:"+3 dodge bonus to AC against attacks made by traps."},fortitude:{base:"3",racial:"",resistance:"3",misc:"",temp:""},reflex:{base:"6",racial:"",resistance:"3",misc:"1",temp:""},will:{base:"3",racial:"",resistance:"3",misc:"",temp:""},defense_notes:"+3 bonus on Reflex saves made to avoid traps."},offense:{base_attack:"6 / 1",special_size_bonus:"",concentration:"",cmb:{misc:"",temp:""},cmd:{misc:"",temp:""},melee_attack:{misc:"",temp:""},ranged_attack:{misc:"",temp:""},attack:{melee:[{weapon:"Rapier +2",attack:"16",damage:"1d6+3",critical:"18–20/x2"},{weapon:"Rapier +2 Powerful Sneak",attack:"13",damage:"1d6+3",critical:"18–20/x2"},{weapon:"Short Sword +2",attack:"16",damage:"1d6+3",critical:"19–20/x2"},{weapon:"Short Sword +2 Powerful Sneak",attack:"13",damage:"1d6+3",critical:"19–20/x2"},{weapon:"Full Attack Rapier +2 / Short Sword +2",attack:"14 / 9 / 14 / 9",damage:"1d6+3",critical:"19–20/x2 / 18–20/x2 / 19–20/x2 / 18–20/x2"}],ranged:[{weapon:"Shortbow +1",attack:"15",damage:"1d6",critical:"x3",range:"60 ft",ammo:"50"}]},attack_notes:""},skills:{acrobatics:{ranks:"9",misc:"",class_skill:!0},appraise:{ranks:"9",misc:"4",class_skill:!0},bluff:{ranks:"9",misc:"",class_skill:!0},climb:{ranks:"",misc:"",class_skill:!1},craft_1:{ranks:"",misc:"",class_skill:!1,type:""},craft_2:{ranks:"",misc:"",class_skill:!1,type:""},diplomacy:{ranks:"",misc:"",class_skill:!1},disable_device:{ranks:"9",misc:"4",class_skill:!0},disguise:{ranks:"",misc:"",class_skill:!1},escape_artist:{ranks:"9",misc:"",class_skill:!0},fly:{ranks:"",misc:"",class_skill:!1},handle_animal:{ranks:"",misc:"",class_skill:!1},heal:{ranks:"",misc:"",class_skill:!1},intimidate:{ranks:"",misc:"",class_skill:!1},knowledge_arcana:{ranks:"",misc:"",class_skill:!1},knowledge_dungeoneering:{ranks:"",misc:"",class_skill:!1},knowledge_engineering:{ranks:"",misc:"",class_skill:!1},knowledge_geography:{ranks:"",misc:"",class_skill:!1},knowledge_history:{ranks:"",misc:"",class_skill:!1},knowledge_local:{ranks:"",misc:"",class_skill:!1},knowledge_nature:{ranks:"",misc:"",class_skill:!1},knowledge_nobility:{ranks:"",misc:"",class_skill:!1},knowledge_planes:{ranks:"",misc:"",class_skill:!1},knowledge_religion:{ranks:"",misc:"",class_skill:!1},linguistics:{ranks:"",misc:"",class_skill:!1},perception:{ranks:"9",misc:"5",class_skill:!0},perform_1:{ranks:"",misc:"",class_skill:!1,type:""},perform_2:{ranks:"",misc:"",class_skill:!1,type:""},profession_1:{ranks:"",misc:"",class_skill:!1,type:""},profession_2:{ranks:"",misc:"",class_skill:!1,type:""},ride:{ranks:"",misc:"",class_skill:!1},sense_motive:{ranks:"9",misc:"",class_skill:!0},sleight_of_hand:{ranks:"9",misc:"3",class_skill:!0},spellcraft:{ranks:"",misc:"",class_skill:!1},stealth:{ranks:"9",misc:"5",class_skill:!0},survival:{ranks:"",misc:"",class_skill:!1},swim:{ranks:"",misc:"",class_skill:!1},use_magic_device:{ranks:"",misc:"",class_skill:!1},custom_1:{stat:"Dex",name:"Disable Device Trap",ranks:"9",misc:"9",class_skill:!0},custom_2:{stat:"Wis",name:"Perception Trap",ranks:"9",misc:"9",class_skill:!0},custom_3:{stat:"",name:"",ranks:"",misc:"",class_skill:!1},custom_4:{stat:"",name:"",ranks:"",misc:"",class_skill:!1}},spells:{per_day:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},dc:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},known:{level_0:"",level_1:"",level_2:"",level_3:"",level_4:"",level_5:"",level_6:"",level_7:"",level_8:"",level_9:""},book:[{name:"Mage Hand",level:0,prepared:3,active:!1,cast:0},{name:"Unseen Servant",level:1,prepared:2,active:!1,cast:0}]},notes:{character:"<strong>Deft Hands</strong> +2 bonus on Disable Device and Sleight of Hand skill checks<br><br><strong>Weapon Finesse</strong> With a light weapon, rapier, whip, or spiked chain made for a creature of your size category, you may use your Dexterity modifier instead of your Strength modifier on attack rolls.<br><br><strong>Two Weapon Fighting</strong> Penalties on attack rolls for fighting with two weapons are reduced.<br><br><strong>Improved Two Weapon Fighting</strong> In addition to the standard single extra attack you get with an off-hand weapon, get a second attack with it, albeit at a –5 penalty.<br><br><strong>Double Slice</strong> Add your Strength bonus to damage rolls made with your off-hand weapon.<br><br><strong>Extra Rogue Talent</strong> Gain one additional rogue talent<br><br><strong>Sneak attack</strong> Attack deals extra damage anytime her target would be denied a Dexterity bonus to AC (+5d6).<br><br><strong>Evasion (Ex)</strong> A rogue adds 1/2 her level to Perception skill checks made to locate traps and to Disable Device skill checks.<br><br><strong>Rogue talent</strong> Minor Magic (Sp) Mage Hand, 3/day.<br><br><strong>Rogue talent</strong> Major Magic (Sp) Unseen Servant, 2/day.<br><br><strong>Rogue talent</strong> Fast Fingers (Ex) Roll two dice while making a Sleight of Hand check and take the better result, 1/day.<br><br><strong>Rogue talent</strong> Fast Stealth (Ex) Move at full speed using the Stealth skill without penalty.<br><br><strong>Rogue talent</strong> During a full attack action you may take a –2 penalty on all attack rolls until the start of her next turn. If an attack during this time is a sneak attack, treats all 1s on the sneak attack damage dice as 2s.<br><br><strong>Trap sense (Ex)</strong> +3 bonus on Reflex saves made to avoid traps and a +3 dodge bonus to AC against attacks made by traps. These bonuses rise to +2 when the rogue reaches 6th level, to +3 when she reaches 9th level.<br><br><strong>Uncanny Dodge (Ex)</strong> cannot be caught flat-footed, nor lose Dex bonus to AC if the attacker is invisible. Still loses Dexterity bonus to AC if immobilized.<br><br><strong>Improved Uncanny Dodge (Ex)</strong> A rogue of 8th level or higher can no longer be flanked.",story:""}};return{data:a}}(),hardCodedCharacters=function(){var a=[nif.data,ro.data,vos.data,marika.data];return{load:a}}(),helper=function(){function a(a){return document.querySelector(a)}function b(a){return document.querySelectorAll(a)}function c(a,b){a.classList.toggle(b)}function d(a,b){a.classList.add(b)}function e(a,b){a.classList.remove(b)}function f(a,b){window.setTimeout(a,b)}function g(a){var b=helper.e(a);if(document.selection){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var c=document.createRange();c.selectNodeContents(b),window.getSelection().removeAllRanges(),window.getSelection().addRange(c)}}function h(a,b){if(a.length>=b){var c=a.substring(0,b)+"... ";return c}return a}function i(a,b,c){for(var d=b.split(".");d.length>1;)a=a[d.shift()];a[d.shift()]=c}function j(a,b){for(var c=b.split(".");c.length>1;)a=a[c.shift()];return a[c.shift()]}function k(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode){if("."===c&&a.classList.contains(b.substr(1)))return a;if("#"===c&&a.id===b.substr(1))return a;if("["===c&&a.hasAttribute(b.substr(1,b.length-2)))return a;if(a.tagName.toLowerCase()===b)return a}return!1}return{e:a,eA:b,toggleClass:c,addClass:d,removeClass:e,getClosest:k,selectText:g,delayFunction:f,updateObject:i,getObject:j,truncate:h}}(),sheet=function(){function a(){h("allCharacters",JSON.stringify(o))}function b(){return o}function c(){return o[p]}function d(){return p}function e(a){p=a,h("charactersIndex",p)}function f(){o.push(JSON.parse(JSON.stringify(blank.data)));var c=b().length-1;e(c),a(),l(),n(),nav.clear(),nav.render(b())}function g(){var c=o[p].basics.name||"New character";o.splice(d(),1);var g=!1;0==o.length&&(f(),g=!0),e(0),l(),n(),a(),nav.clear(),nav.render(b()),g?snack.render(helper.truncate(c,40)+" removed. New character added.",!1,!1):snack.render(helper.truncate(c,50)+" removed.",!1,!1)}function h(a,b){localStorage.getItem&&localStorage.setItem(a,b)}function i(a){localStorage.getItem&&localStorage.removeItem(a)}function j(a){if(""==localStorage.getItem(a))localStorage.removeItem(a);else if(localStorage.getItem(a))return localStorage.getItem(a)}function k(){localStorage.clear(),prompt.destroy(),snack.destroy(),document.location.reload(!0)}function l(){for(var a=helper.eA(".input-block"),b=helper.eA(".textarea-box"),c=helper.eA(".check-block"),d=helper.eA(".clone-target"),e=helper.eA(".spells-known"),f=helper.eA(".stat-select"),g=0;g<a.length;g++){var h=a[g].querySelector(".input-field");helper.e("#"+h.id).value=""}for(var g=0;g<c.length;g++){var i=c[g].querySelector(".input-check"),j=c[g].querySelector(".class-skill-icon");c[g].dataset.classSkill="false",i.checked=!1,helper.addClass(j,"icon-check-box-unchecked"),helper.removeClass(j,"icon-check-box-checked")}for(var g=0;g<f.length;g++){var k=helper.getClosest(f[g],".total-block"),l=f[g].textContent;k.removeAttribute("data-"+l.replace(/\s+/g,"-").toLowerCase()+"-bonus"),f[g].textContent=" - "}for(var g=0;g<b.length;g++)helper.e("#"+b[g].id).innerHTML="";for(var g=0;g<d.length;g++)d[g].innerHTML="";for(var g=0;g<e.length;g++)e[g].innerHTML="";stats.render(),totalBlock.render()}function m(a){var b=JSON.stringify(o[p],null," ");prompt.render("download","Character JSON data:",b,"download"),helper.e(".prompt pre")&&helper.selectText(".prompt pre")}function n(){inputBlock.render(),textareaBlock.render(),checkBlock.render(),stats.render(),skills.render(),totalBlock.render(),clone.render(),consumable.render(),spells.render()}var o=blank.data,p=0;(function(){j("allCharacters")?o=JSON.parse(j("allCharacters")):"undefined"!=typeof hardCodedCharacters&&(o=hardCodedCharacters.load),a()})(),function(){j("charactersIndex")&&(p=j("charactersIndex"))}();return{getAllCharacters:b,getCharacter:c,addCharacter:f,removeCharacter:g,getIndex:d,setIndex:e,storeCharacters:a,destroy:k,store:h,remove:i,read:j,clear:l,print:m,render:n}}(),nav=function(){function a(){var a=helper.e(".fullscreen"),b=window.document,c=a.querySelector("span"),d=b.documentElement,e=d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullScreen||d.msRequestFullscreen,f=b.exitFullscreen||b.mozCancelFullScreen||b.webkitExitFullscreen||b.msExitFullscreen;b.fullscreenElement||b.mozFullScreenElement||b.webkitFullscreenElement||b.msFullscreenElement?(f.call(b),helper.toggleClass(a,"active"),helper.toggleClass(c,"icon-fullscreen-exit"),helper.toggleClass(c,"icon-fullscreen")):(e.call(d),helper.toggleClass(a,"active"),helper.toggleClass(c,"icon-fullscreen-exit"),helper.toggleClass(c,"icon-fullscreen"))}function b(a,b){("undefined"==typeof a||""==a)&&(a="New character");var d=document.createElement("li"),e=document.createElement("span");e.setAttribute("class","icon icon-check-box-unchecked");var f=document.createElement("span");f.textContent=a,f.setAttribute("class","name");var g=document.createElement("a");return g.setAttribute("href","javascript:void(0)"),g.setAttribute("data-character-index",b),g.setAttribute("class","clearfix character-toggle character-index-"+b),g.setAttribute("tabindex",10),g.appendChild(e),g.appendChild(f),d.appendChild(g),c(g,b),d}function c(a,b){a.addEventListener("click",function(){d(this),sheet.storeCharacters(),sheet.setIndex(b),sheet.clear(),sheet.render()},!1)}function d(a){var b=a.dataset.characterIndex,c=helper.eA(".character-toggle");sheet.setIndex(b);for(var d=0;d<c.length;d++){var e=c[d].querySelector(".icon");helper.removeClass(e,"icon-check-box-checked"),helper.addClass(e,"icon-check-box-unchecked"),helper.removeClass(c[d],"active")}var e=a.querySelector(".icon");helper.removeClass(e,"icon-check-box-unchecked"),helper.addClass(e,"icon-check-box-checked"),helper.addClass(a,"active");var f=sheet.getCharacter().basics.name;("undefined"==typeof f||""==f)&&(f="New character"),snack.render(helper.truncate(f,50)+" now active.",!1,!1)}function e(){var a=helper.e(".nav-characters");a.innerHTML=""}function f(a){var c=helper.e(".nav-characters");for(var d in a){var e=b(a[d].basics.name,d);if(c.appendChild(e),d==sheet.getIndex()){var f=e.querySelector(".icon"),h=e.querySelector("a");helper.removeClass(f,"icon-check-box-unchecked"),helper.addClass(f,"icon-check-box-checked"),helper.addClass(f,"icon-check-box-checked"),helper.addClass(h,"active")}}g()}function g(){window.onscroll=function(){for(var a=(helper.e("#quick-nav"),helper.eA(".quick-link")),b=helper.eA("section"),c=70,d=200,e=0;e<b.length;e++)b[e].getBoundingClientRect().top<=c&&b[e].getBoundingClientRect().bottom>c?(helper.addClass(a[e],"active"),helper.addClass(b[e],"pinned")):(helper.removeClass(a[e],"active"),helper.removeClass(b[e],"pinned")),b[e].getBoundingClientRect().top<=d&&b[e].getBoundingClientRect().bottom>d?(helper.addClass(a[e],"active"),helper.addClass(b[e],"pre-pinned")):(helper.removeClass(a[e],"active"),helper.removeClass(b[e],"pre-pinned"));if(window.innerHeight+window.scrollY>=document.body.offsetHeight){for(var f=helper.e(".quick-link.notes"),e=0;e<a.length;e++)helper.removeClass(a[e],"active");helper.addClass(f,"active")}}}function h(){helper.removeClass(helper.e(".nav-list"),"open"),helper.removeClass(helper.e(".nav-toggle"),"open")}function i(){helper.addClass(helper.e(".nav-list"),"open"),helper.addClass(helper.e(".nav-toggle"),"open")}function j(){helper.toggleClass(helper.e(".nav-list"),"open"),helper.toggleClass(helper.e(".nav-toggle"),"open")}function k(){var a;a=sheet.getCharacter().basics.name?sheet.getCharacter().basics.name:"New character",prompt.render("confirm","Remove "+a+"?","This character will be removed. This can not be undone.","clear character")}function l(){var a=helper.e(".nav-list"),b=window.innerHeight-130;a.style.maxHeight=b+"px"}function m(){var b=helper.e(".nav-list"),c=helper.e(".nav-toggle"),d=helper.e(".fullscreen"),e=helper.e(".clear-all"),f=helper.e(".character-add"),g=helper.e(".character-remove"),i=helper.e(".character-export");c.addEventListener("click",function(){j()},!1),d.addEventListener("click",function(){a()},!1),e.addEventListener("click",function(){prompt.render("confirm","Are you sure?","All characters will be removed. This can not be undone.","clear all"),h()},!1),i.addEventListener("click",function(){sheet.print(),h()},!1),f.addEventListener("click",function(){sheet.addCharacter(),snack.render("New character added.",!1,!1)},!1),g.addEventListener("click",function(){k()},!1),window.addEventListener("click",function(a){a.target!=b&&helper.getClosest(a.target,".nav-list")!=b&&a.target!=c&&helper.getClosest(a.target,".nav-toggle")!=c&&h()},!1),window.addEventListener("keydown",function(a){8==a.which&&a.ctrlKey&&(prompt.render("confirm","Are you sure?","All characters will be removed. This can not be undone.","clear all"),h())},!1),window.addEventListener("keydown",function(a){69==a.which&&a.ctrlKey&&(sheet.print(),h())},!1),window.addEventListener("keydown",function(a){27==a.keyCode&&h()},!1),window.addEventListener("keydown",function(a){77==a.keyCode&&a.ctrlKey&&j()},!1),window.addEventListener("resize",function(a){l()},!1)}return{bind:m,resize:l,clear:e,render:f,open:i,close:h,toggle:j}}(),prompt=function(){function a(a,b,d,e){var f=helper.e("body"),g=document.createElement("div");g.setAttribute("class","prompt prompt-shade");var h=document.createElement("div"),i=document.createElement("div");i.setAttribute("class","prompt-controls");var j=document.createElement("div");j.setAttribute("class","prompt-message");var k=document.createElement("h1");k.setAttribute("class","prompt-heading");var l=document.createElement("p");l.setAttribute("class","prompt-text");var m=document.createElement("pre");m.setAttribute("class","prompt-code");var n=document.createElement("button");if(n.setAttribute("class","button button-tertiary button-block prompt-cancel"),"confirm"==a){var o=document.createElement("button");o.setAttribute("class","button button-primary button-block prompt-action"),o.textContent="OK",k.textContent=b,l.textContent=d,n.textContent="Cancel",j.appendChild(k),j.appendChild(l),h.appendChild(j),i.appendChild(n),i.appendChild(o),h.appendChild(i),h.setAttribute("class","prompt prompt-modal confirm")}if("download"==a){var o=document.createElement("a");o.setAttribute("class","button button-primary button-block prompt-action"),o.setAttribute("download",sheet.getCharacter().basics.name+".json"),o.textContent="Download",o.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(sheet.getCharacter()),null," "),k.textContent=b,m.textContent=d,n.textContent="Cancel",j.appendChild(k),h.appendChild(j),h.appendChild(m),i.appendChild(n),i.appendChild(o),h.appendChild(i),h.setAttribute("class","prompt prompt-modal code")}if(!f.querySelector(".prompt.prompt-shade")&&!f.querySelector(".prompt.prompt-modal")){f.appendChild(g),f.appendChild(h);var p=function(){helper.addClass(h,"reveal"),helper.addClass(g,"reveal")};helper.delayFunction(p,10),c(e)}o.focus()}function b(){var a=helper.e(".prompt-shade"),b=helper.e(".prompt-modal");helper.e(".prompt-modal .prompt-cancel");if(a&&b){a.style.opacity=0,b.style.opacity=0;var c=function(){a.remove(),b.remove()};helper.delayFunction(c,500)}}function c(a){var c=helper.e(".prompt-shade"),d=(helper.e(".prompt-modal"),helper.e(".prompt-modal .prompt-action")),e=helper.e(".prompt-modal .prompt-cancel");c.addEventListener("click",function(){b()}),"clear all"==a&&d.addEventListener("click",function(){b(),sheet.destroy()},!1),"clear character"==a&&d.addEventListener("click",function(){sheet.removeCharacter(),b()},!1),"download"==a&&d.addEventListener("click",function(){b()},!1),e.addEventListener("click",function(){b()},!1),window.addEventListener("keydown",function(a){27==a.keyCode&&b()},!1)}return{render:a,destroy:b}}(),snack=function(){function a(a,d){var e=helper.e(".snacks .snack-bars"),f=document.createElement("div");f.setAttribute("class","snack-bar");var g=document.createElement("div");g.setAttribute("class","row");var h=document.createElement("div");h.setAttribute("class","col-xs-12");var i=document.createElement("div");i.setAttribute("class","col-xs-5");var j=document.createElement("button");j.setAttribute("class","button button-dark button-small snack-clear");var k=document.createElement("span");k.setAttribute("class","icon-close");var l=document.createElement("p");l.setAttribute("class","snack-message"),l.textContent=a,j.appendChild(k),d&&i.appendChild(j),h.appendChild(l),g.appendChild(h),f.appendChild(g);for(var m=e.querySelectorAll(".snack-bar"),n=0;n<m.length;n++){var o=m[n],p=function(){helper.removeClass(o,"reveal")};helper.delayFunction(p,100);var q=function(){o.remove()};helper.delayFunction(q,400)}e.appendChild(f),b(f);var r=function(){helper.addClass(f,"reveal")},s=e.querySelectorAll(".snack-bar");s.length>1?helper.delayFunction(r,300):helper.delayFunction(r,10);var t=function(){f&&c(f)};helper.delayFunction(t,5e3)}function b(a){var b=helper.getClosest(a,".snack-bar"),d=b.querySelector(".snack-clear");d&&d.addEventListener("click",function(){c(this)},!1),window.addEventListener("keydown",function(a){27==a.keyCode&&c()},!1)}function c(a){if(a)var b=helper.getClosest(a,".snack-bar");else var b=helper.e(".snack-bar");if(b){var c=function(){helper.removeClass(b,"reveal")};helper.delayFunction(c,10);var d=function(){b.remove()};helper.delayFunction(d,500)}}return{render:a,destroy:c}}(),clone=function(){function a(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-12"><div class="consumable-bar"><div class="consumable-bar-percentage"><span class="percentage-total">100%</span></div></div></div><div class="col-xs-8"><div class="input-block"><label class="input-label" for="consumable-item-'+a+'">Item</label><input class="input-field consumable-item" id="consumable-item-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-2"><div class="input-block"><label class="input-label" for="consumable-total-'+a+'">Total</label><input class="input-field consumable-total" id="consumable-total-'+a+'" type="number" tabindex="3"></div></div><div class="col-xs-2"><div class="input-block"><label class="input-label" for="consumable-used-'+a+'">Used</label><input class="input-field consumable-used" id="consumable-used-'+a+'" type="number" tabindex="3"></div></div></div></div><div class="col-xs-4 col-xs-offset-4"><div class="clone-delete-controls"><button class="button button-primary button-block button-icon" tabindex="3"><span class="icon-close"></span></button></div></div></div>';return b}function b(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-5 col-md-4"><div class="input-block"><label class="input-label" for="attack-melee-weapon-'+a+'">Melee Weapon</label><input class="input-field attack-melee-weapon" id="attack-melee-weapon-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-2 col-md-2"><div class="input-block"><label class="input-label" for="attack-melee-attack-'+a+'">Attack</label><input class="input-field attack-melee-attack" id="attack-melee-attack-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-3"><div class="input-block"><label class="input-label" for="attack-melee-damage-'+a+'">Damage</label><input class="input-field attack-melee-damage" id="attack-melee-damage-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-2 col-md-3"><div class="input-block"><label class="input-label" for="attack-melee-critical-'+a+'">Critical</label><input class="input-field attack-melee-critical" id="attack-melee-critical-'+a+'" type="text" tabindex="3"></div></div></div></div><div class="col-xs-4 col-xs-offset-4"><div class="clone-delete-controls"><button class="button button-primary button-block button-icon" tabindex="3"><span class="icon-close"></span></button></div></div></div>';return b}function c(a){var b='<div class="row"><div class="col-xs-12"><div class="row no-gutter"><div class="col-xs-6 col-md-4"><div class="input-block"><label class="input-label" for="attack-ranged-weapon-'+a+'">Ranged Weapon</label><input class="input-field attack-ranged-weapon" id="attack-ranged-weapon-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-2"><div class="input-block"><label class="input-label" for="attack-ranged-attack-'+a+'">Attack</label><input class="input-field attack-ranged-attack" id="attack-ranged-attack-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-2"><div class="input-block"><label class="input-label" for="attack-ranged-damage-'+a+'">Damage</label><input class="input-field attack-ranged-damage" id="attack-ranged-damage-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-xs-offset-3 col-md-2 col-md-offset-0"><div class="input-block"><label class="input-label" for="attack-ranged-critical-'+a+'">Critical</label><input class="input-field attack-ranged-critical" id="attack-ranged-critical-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-1"><div class="input-block"><label class="input-label" for="attack-ranged-range-'+a+'">Range</label><input class="input-field attack-ranged-range" id="attack-ranged-range-'+a+'" type="text" tabindex="3"></div></div><div class="col-xs-3 col-md-1"><div class="input-block"><label class="input-label" for="attack-ranged-ammo-'+a+'">Ammo</label><input class="input-field attack-ranged-ammo" id="attack-ranged-ammo-'+a+'" type="text" tabindex="3"></div></div></div></div><div class="col-xs-4 col-xs-offset-4"><div class="clone-delete-controls"><button class="button button-primary button-block button-icon" tabindex="3"><span class="icon-close"></span></button></div></div></div>';return b}function d(a){a.value<=0?a.value="":a.value>=100&&(a.value=100)}function e(d,e){var f,g;"attack-melee"==e&&(f=helper.e(".attack"),g=f.querySelector(".clone-target.attack-melee")),"attack-ranged"==e&&(f=helper.e(".attack"),g=f.querySelector(".clone-target.attack-ranged")),"consumable"==e&&(f=helper.e(".consumable"),g=f.querySelector(".clone-target"));for(var h=0;d>h;h++){var m,n=g.querySelectorAll(".clone").length,o=h,p=document.createElement("div");p.setAttribute("class","clone"),n>o&&(o=n),"consumable"==e&&(m=a(o)),"attack-melee"==e&&(m=b(o)),"attack-ranged"==e&&(m=c(o)),p.innerHTML=m,99>=n&&(g.appendChild(p),"consumable"==e&&l(p.querySelectorAll(".input-block")),"attack-melee"==e&&j(p.querySelectorAll(".input-block")),"attack-ranged"==e&&k(p.querySelectorAll(".input-block")),i(p.querySelector(".clone-delete-controls button"),e))}}function f(a,b){var c,d,e;"attack-melee"==b&&(c=helper.e(".attack"),d=c.querySelector(".clone-target.attack-melee"),e=d.querySelectorAll(".clone")),"attack-ranged"==b&&(c=helper.e(".attack"),d=c.querySelector(".clone-target.attack-ranged"),e=d.querySelectorAll(".clone")),"consumable"==b&&(c=helper.e(".consumable"),d=c.querySelector(".clone-target"),e=d.querySelectorAll(".clone"));for(var f=0;f<a.length;f++)for(var g in a[f]){var h;"consumable"==b&&(h=d.querySelector("#consumable-"+g.replace(/_/g,"-")+"-"+f)),"attack-melee"==b&&(h=d.querySelector("#attack-melee-"+g.replace(/_/g,"-")+"-"+f)),"attack-ranged"==b&&(h=d.querySelector("#attack-ranged-"+g.replace(/_/g,"-")+"-"+f)),h.value=a[f][g],inputBlock.update(h)}}function g(a){var b;if("attack-melee"==a){var c=helper.e(".attack"),d=c.querySelector(".clone-target.attack-melee");b=d.querySelectorAll(".clone").length}if("attack-melee"==a||"attack-ranged"==a){var c=helper.e(".attack"),d=c.querySelector(".clone-target.attack-ranged");b=d.querySelectorAll(".clone").length}if("consumable"==a){var c=helper.e(".consumable"),d=c.querySelector(".clone-target");b=d.querySelectorAll(".clone").length}return b}function h(a){var b,c;"attack-melee"==a&&(b=helper.e(".attack"),c=b.querySelector(".clone-target.attack-melee")),"attack-ranged"==a&&(b=helper.e(".attack"),c=b.querySelector(".clone-target.attack-ranged")),"consumable"==a&&(b=helper.e(".consumable"),c=b.querySelector(".clone-target"));var d=b.querySelectorAll(".clone").length,e=b.querySelector(".clone-controls"),f=e.querySelector(".clone-remove");0==d&&(b.dataset.deleteCloneState="false",helper.removeClass(b,"delete-state"),helper.removeClass(f,"active"),helper.removeClass(f,"button-primary"),helper.addClass(f,"button-tertiary"))}function i(a,b){a.addEventListener("click",function(){n(this,b),r(),s(),t(),sheet.storeCharacters(),"consumable"==b&&(h("consumable"),snack.render("Consumable removed.",!1,!1)),"attack-melee"==b&&(h("attack-melee"),snack.render("Melee attack removed.",!1,!1)),"attack-ranged"==b&&(h("attack-ranged"),snack.render("Ranged attack removed.",!1,!1))},!1)}function j(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".input-field");c.addEventListener("input",function(){r(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){r(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){r(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function k(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".input-field");c.addEventListener("input",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){s(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function l(a){for(var b=0;b<a.length;b++){var c=a[b].querySelector(".input-field");(c.classList.contains("consumable-used")||c.classList.contains("consumable-total"))&&(c.addEventListener("input",function(){d(this)},!1),c.addEventListener("focus",function(){d(this)},!1),c.addEventListener("blur",function(){d(this)},!1)),c.addEventListener("input",function(){t(),consumable.render(),consumable.update(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("focus",function(){t(),consumable.render(),consumable.update(),sheet.storeCharacters(),inputBlock.focus(this)},!1),c.addEventListener("blur",function(){t(),consumable.render(),consumable.update(),sheet.storeCharacters(),inputBlock.focus(this)},!1)}}function m(a){var b=helper.e(".clone-block."+a),c=b.querySelector(".clone-controls"),d=c.querySelector(".clone-remove"),e=b.querySelectorAll(".clone").length;helper.toggleClass(d,"active"),helper.toggleClass(d,"button-primary"),helper.toggleClass(d,"button-tertiary"),"true"==b.dataset.deleteCloneState?(helper.removeClass(b,"delete-state"),b.dataset.deleteCloneState="false"):"false"==b.dataset.deleteCloneState&&(helper.addClass(b,"delete-state"),b.dataset.deleteCloneState="true"),0==e&&(helper.removeClass(b,"delete-state"),b.dataset.deleteCloneState="false",helper.removeClass(d,"active"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary"))}function n(a){var b=helper.getClosest(a,".clone");b.remove()}function o(a,b,c,d){return{weapon:this.weapon=a,attack:this.attack=b,damage:this.damage=c,critical:this.critical=d}}function p(a,b,c,d,e,f){return{weapon:this.weapon=a,attack:this.attack=b,damage:this.damage=c,critical:this.critical=d,range:this.range=e,ammo:this.ammo=f}}function q(a,b,c){return{item:this.item=a,total:this.total=b,used:this.used=c}}function r(){for(var a=helper.e(".clone-block.attack"),b=a.querySelector(".clone-target.attack-melee"),c=b.querySelectorAll(".clone"),d=[],e=0;e<c.length;e++){var f=c[e].querySelector(".attack-melee-weapon").value||"",g=c[e].querySelector(".attack-melee-attack").value||"",h=c[e].querySelector(".attack-melee-damage").value||"",i=c[e].querySelector(".attack-melee-critical").value||"",j=new o(f,g,h,i);d.push(j)}sheet.getCharacter().offense.attack.melee=d}function s(){for(var a=helper.e(".clone-block.attack"),b=a.querySelector(".clone-target.attack-ranged"),c=b.querySelectorAll(".clone"),d=[],e=0;e<c.length;e++){var f=c[e].querySelector(".attack-ranged-weapon").value||"",g=c[e].querySelector(".attack-ranged-attack").value||"",h=c[e].querySelector(".attack-ranged-damage").value||"",i=c[e].querySelector(".attack-ranged-critical").value||"",j=c[e].querySelector(".attack-ranged-range").value||"",k=c[e].querySelector(".attack-ranged-ammo").value||"",l=new p(f,g,h,i,j,k);d.push(l)}sheet.getCharacter().offense.attack.ranged=d}function t(){for(var a=helper.e(".clone-block.consumable"),b=a.querySelector(".clone-target"),c=b.querySelectorAll(".clone"),d=[],e=0;e<c.length;e++){var f=c[e].querySelector(".consumable-item").value||"",g=c[e].querySelector(".consumable-total").value||"",h=c[e].querySelector(".consumable-used").value||"",i=new q(f,g,h);d.push(i)}sheet.getCharacter().equipment.consumable=d}function u(){var a=sheet.getCharacter().offense.attack.melee,b=sheet.getCharacter().offense.attack.ranged,c=sheet.getCharacter().equipment.consumable;e(a.length,"attack-melee"),e(b.length,"attack-ranged"),e(c.length,"consumable"),f(a,"attack-melee"),f(b,"attack-ranged"),f(c,"consumable")}(function(){var a=helper.e(".consumable .clone-add"),b=helper.e(".consumable .clone-remove"),c=helper.e(".attack .clone-add-melee"),d=helper.e(".attack .clone-add-ranged"),f=helper.e(".attack .clone-remove");a.addEventListener("click",function(){e(1,"consumable"),t(),sheet.storeCharacters(),consumable.render(),g("consumable")<=99&&snack.render("Consumable added.",!1,!1)},!1),b.addEventListener("click",function(){m("consumable"),t(),sheet.storeCharacters()},!1),c.addEventListener("click",function(){e(1,"attack-melee"),r(),sheet.storeCharacters(),g("attack-melee")<=99&&snack.render("Melee attack added.",!1,!1)},!1),d.addEventListener("click",function(){e(1,"attack-ranged"),s(),sheet.storeCharacters(),g("attack-ranged")<=99&&snack.render("Ranged attack added.",!1,!1)},!1),f.addEventListener("click",function(){m("attack"),r(),s(),sheet.storeCharacters()},!1)})();return{render:u}}(),consumable=function(){function a(a){var b=helper.getClosest(a,".clone"),c=b.querySelector(".consumable-bar-percentage"),d=b.querySelector(".percentage-total"),e=b.querySelector(".consumable-total"),f=b.querySelector(".consumable-used"),g=parseInt(e.value,10)||0,h=parseInt(f.value,10)||0,i=(g-h)/g*100;c.style.width=i+"%",d.textContent=g-h,
h>=g?(helper.addClass(c,"empty"),c.style.width="0%",d.textContent="0"):helper.removeClass(c,"empty")}function b(){for(var b=helper.e(".clone-block.consumable").querySelectorAll(".consumable-total"),c=0;c<b.length;c++)a(b[c])}function c(){for(var b=helper.e(".clone-block.consumable").querySelectorAll(".consumable-used"),c=0;c<b.length;c++)a(b[c])}return{render:b,update:c}}(),hidableBlock=function(){function a(){for(var a=helper.eA(".hidable-block"),c=0;c<a.length;c++){var d=a[c].querySelector(".hidable-toggle");d.addEventListener("click",function(){b(this)},!1)}}function b(a){var b=(a.textContent,a.querySelector(".icon")),c=a.querySelector(".text"),d=helper.getClosest(a,".hidable-block"),e=d.querySelectorAll(".hidable"),f=d.querySelectorAll(".hidable-on-empty-input"),g=d.querySelectorAll(".hidable-on-empty-textarea");if("true"==d.dataset.allHidden){for(var h=0;h<e.length;h++)helper.removeClass(e[h],"hidden");for(var h=0;h<f.length;h++)helper.removeClass(f[h],"hidden");for(var h=0;h<g.length;h++)helper.removeClass(g[h],"hidden");d.dataset.allHidden="false",helper.toggleClass(b,"icon-unfold-less"),helper.toggleClass(b,"icon-unfold-more"),c.textContent="Hide"}else if("false"==d.dataset.allHidden){for(var h=0;h<f.length;h++){var i=f[h].querySelector(".input-field");(null==i.value||""==i.value)&&helper.addClass(f[h],"hidden")}for(var h=0;h<e.length;h++)helper.addClass(e[h],"hidden");for(var h=0;h<g.length;h++){var j=g[h].querySelector(".textarea-box");(null==j.textContent||""==j.textContent)&&helper.addClass(g[h],"hidden")}d.dataset.allHidden="true",helper.toggleClass(b,"icon-unfold-less"),helper.toggleClass(b,"icon-unfold-more"),c.textContent="Show"}}return{render:b,bind:a}}(),inputBlock=function(){function a(a){var b=a.dataset.path;helper.updateObject(sheet.getCharacter(),b,a.value),sheet.storeCharacters()}function b(a){var b,c=helper.getClosest(a,".input-block"),d=c.querySelector(".input-field");if(c.querySelector(".input-label"))var b=c.querySelector(".input-label");c.querySelector(".input-label")&&(d==document.activeElement?(helper.addClass(b,"input-label-focus"),helper.addClass(b,"input-label-active")):(helper.removeClass(b,"input-label-focus"),helper.removeClass(b,"input-label-active")),""==a.value&&d!=document.activeElement?helper.removeClass(b,"input-label-active"):helper.addClass(b,"input-label-active"))}function c(a){b(a)}function d(){g(),h(),e()}function e(){for(var a=helper.eA(".input-controls"),b=0;b<a.length;b++){var c=a[b].querySelector(".add"),d=a[b].querySelector(".minus");c.addEventListener("click",function(){f(this)},!1),d.addEventListener("click",function(){f(this)},!1)}}function f(b){var d;b.dataset.add&&(d=helper.e("#"+b.dataset.add),d.value=(parseInt(d.value,10)||0)+1),b.dataset.minus&&(d=helper.e("#"+b.dataset.minus),d.value=(parseInt(d.value,10)||0)-1),a(d),c(d),totalBlock.render()}function g(){for(var c=helper.eA(".input-block"),d=0;d<c.length;d++){var e=c[d].querySelector(".input-field");e&&(e.addEventListener("input",function(){a(this),b(this),totalBlock.render()},!1),e.addEventListener("focus",function(){a(this),b(this),totalBlock.render()},!1),e.addEventListener("blur",function(){a(this),b(this),totalBlock.render()},!1))}}function h(){var a=helper.e(".awesome-name input");a.addEventListener("input",function(){i(this.value),j(this.value)},!1),a.addEventListener("focus",function(){i(this.value)},!1),a.addEventListener("blur",function(){i(this.value)},!1)}function i(a){var b=helper.e(".character-index-"+sheet.getIndex()).querySelector(".name");b.textContent=a}function j(a){a.length>=150&&snack.render("Character name is too long.",!1,!1)}function k(){for(var a=helper.eA(".input-field"),b=0;b<a.length;b++){var d=a[b].dataset.path,e=helper.getObject(sheet.getCharacter(),d);a[b].value=e,c(a[b])}}return{update:c,focus:b,render:k,bind:d}}(),checkBlock=function(){function a(a){var b=helper.getClosest(a,".total-block"),c=b.querySelector(".input-check"),d=c.dataset.path;helper.updateObject(sheet.getCharacter(),d,c.checked),sheet.storeCharacters()}function b(a){var b=helper.getClosest(a,".total-block"),c=b.dataset.classSkill,d=b.querySelector(".class-skill-icon");"true"==c?(b.dataset.classSkill="false",helper.addClass(d,"icon-check-box-unchecked"),helper.removeClass(d,"icon-check-box-checked")):(b.dataset.classSkill="true",helper.addClass(d,"icon-check-box-checked"),helper.removeClass(d,"icon-check-box-unchecked"))}function c(){for(var c=helper.eA(".check-block"),d=0;d<c.length;d++){var e=c[d].querySelector(".input-check");e&&e.addEventListener("click",function(){b(this),a(this),totalBlock.render()},!1)}}function d(){for(var a=helper.eA(".input-check"),b=0;b<a.length;b++){var c=a[b].dataset.path,d=helper.getObject(sheet.getCharacter(),c),e=helper.getClosest(a[b],".total-block"),f=e.querySelector(".class-skill-icon");a[b].checked=d,e.dataset.classSkill=d,1==d?(helper.addClass(f,"icon-check-box-checked"),helper.removeClass(f,"icon-check-box-unchecked")):(helper.addClass(f,"icon-check-box-unchecked"),helper.removeClass(f,"icon-check-box-checked"))}}return{render:d,bind:c}}(),textareaBlock=function(){function a(a){var b,c=helper.getClosest(a,".textarea-block"),d=c.querySelector(".textarea-box");if(c.querySelector(".textarea-label"))var b=c.querySelector(".textarea-label");c.querySelector(".textarea-label")&&(d==document.activeElement?(helper.addClass(b,"textarea-label-focus"),helper.addClass(b,"textarea-label-active")):(helper.removeClass(b,"textarea-label-focus"),helper.removeClass(b,"textarea-label-active")),""==a.innerHTML&&d!=document.activeElement?helper.removeClass(b,"textarea-label-active"):helper.addClass(b,"textarea-label-active"))}function b(b){a(b)}function c(){for(var b=helper.eA(".textarea-block"),c=0;c<b.length;c++){var e=b[c].querySelector(".textarea-box"),g=b[c].querySelector(".textarea-label");e&&(e.addEventListener("input",function(){f(this),a(this)},!1),e.addEventListener("focus",function(){f(this),a(this)},!1),e.addEventListener("blur",function(){f(this),a(this)},!1)),g&&g.addEventListener("click",function(){d(this)},!1)}}function d(a){var b=helper.getClosest(a,".textarea-block"),c=b.querySelector(".textarea-box");c.focus()}function e(){for(var a=helper.eA(".textarea-box"),c=0;c<a.length;c++){var d=a[c].dataset.path,e=helper.getObject(sheet.getCharacter(),d);a[c].innerHTML=e,b(a[c])}}function f(a){var b=a.dataset.path;helper.updateObject(sheet.getCharacter(),b,a.innerHTML),sheet.storeCharacters()}return{update:b,focus:a,render:e,bind:c}}(),skills=function(){function a(a){var b=a.dataset.path;helper.updateObject(sheet.getCharacter(),b,a.textContent),sheet.storeCharacters()}function b(a){var b=helper.getClosest(a,".total-block"),c=["Str","Dex","Con","Int","Wis","Cha","Level","Half Level","Bab"," - "],d=c.indexOf(a.textContent),e=d+1;e>=c.length&&(e=0),a.textContent=c[e],b.removeAttribute("data-"+c[d].replace(/\s+/g,"-").toLowerCase()+"-bonus"),8>=e&&b.setAttribute("data-"+c[e].replace(/\s+/g,"-").toLowerCase()+"-bonus","true")}function c(){for(var c=helper.eA(".stat-select"),d=0;d<c.length;d++)c[d].addEventListener("click",function(){b(this),a(this),totalBlock.render()},!1)}function d(){for(var a=helper.eA(".stat-select"),b=0;b<a.length;b++){var c=helper.getClosest(a[b],".total-block"),d=a[b].dataset.path,e=helper.getObject(sheet.getCharacter(),d);" - "!=e&&"undefined"!=e&&""!=e&&(c.setAttribute("data-"+e.replace(/\s+/g,"-").toLowerCase()+"-bonus","true"),a[b].textContent=e)}}return{render:d,bind:c}}(),spells=function(){function a(a){a.addEventListener("click",function(){b(this),sheet.storeCharacters(),f()},!1)}function b(a){var b=helper.getClosest(a,"#spells"),c=(helper.getClosest(a,".spell-level").dataset.spellLevel,b.dataset.prepareSpellState),d=b.dataset.unprepareSpellState,e=b.dataset.castSpellState,f=b.dataset.activeSpellState,g=b.dataset.deleteSpellState,h=a.querySelector(".spell-marks"),i=a.querySelector(".spell-active");if("true"==c){var k=document.createElement("span");k.setAttribute("class","icon icon-radio-button-checked"),h.children.length<=20&&h.insertBefore(k,h.firstChild),h.children.length>0&&(helper.addClass(a,"button-primary"),helper.removeClass(a,"button-tertiary"),helper.removeClass(a,"hidable"))}if("true"==d&&(h.firstChild&&h.firstChild.remove(),h.children.length<=0&&(helper.removeClass(a,"button-primary"),helper.addClass(a,"button-tertiary"),helper.addClass(a,"hidable"))),"true"==e){for(var l=h.children,m=0,n=0;n<l.length;n++)if(l[n].classList.contains("icon-radio-button-checked")){helper.toggleClass(l[n],"icon-radio-button-checked"),helper.toggleClass(l[n],"icon-radio-button-unchecked");break}for(var n=0;n<l.length;n++)l[n].classList.contains("icon-radio-button-checked")&&m++;0>=m&&(helper.removeClass(a,"button-primary"),helper.addClass(a,"button-tertiary"))}if("true"==f){var o=document.createElement("span");o.setAttribute("class","icon icon-play-arrow"),h.children.length>0&&(i.children.length>0?i.firstChild.remove():i.appendChild(o)),h.children.length<=0&&i.children.length>0&&i.firstChild.remove()}if("true"==g){var p=a.textContent;a.remove(),snack.render(helper.truncate(p,40)+" removed.",!1,!1)}j()}function c(a){var b=helper.getClosest(a,".spell-level").dataset.spellLevel,c=a.value,d=i(c,parseInt(b,10),0,!1,0);""!==c&&(isNaN(c.charAt(0))?(g([d]),a.value="",sheet.getCharacter().spells.book.push(d),snack.render(helper.truncate(c,40)+" added to spell level "+b+".",!1,!1)):snack.render("Name can't start with a space or number.",!1,!1))}function d(a){var b=event.keyCode||event.which;13==b&&(c(a),sheet.storeCharacters())}function e(a,b){var c=helper.getClosest(a,"#spells"),d=(c.querySelector(".prepare-spell"),c.querySelector(".unprepare-spell"),c.querySelector(".cast-spell"),c.querySelector(".active-spell"),c.querySelector(".remove-spell")),e=c.querySelectorAll(".spell-state-control");if(a.classList.contains("active")){for(var f=0;f<e.length;f++)helper.removeClass(e[f],"active");c.dataset.prepareSpellState="false",c.dataset.unprepareSpellState="false",c.dataset.castSpellState="false",c.dataset.activeSpellState="false",c.dataset.deleteSpellState="false",helper.removeClass(c,"prepare-state"),helper.removeClass(c,"unprepare-state"),helper.removeClass(c,"cast-state"),helper.removeClass(c,"active-state"),helper.removeClass(c,"delete-state"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary")}else{for(var f=0;f<e.length;f++)helper.removeClass(e[f],"active");helper.addClass(a,"active"),"prepare"==b?(c.dataset.prepareSpellState="true",c.dataset.unprepareSpellState="false",c.dataset.castSpellState="false",c.dataset.activeSpellState="false",c.dataset.deleteSpellState="false",helper.addClass(c,"prepare-state"),helper.removeClass(c,"unprepare-state"),helper.removeClass(c,"cast-state"),helper.removeClass(c,"active-state"),helper.removeClass(c,"delete-state"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary")):"unprepare"==b?(c.dataset.prepareSpellState="false",c.dataset.unprepareSpellState="true",c.dataset.castSpellState="false",c.dataset.activeSpellState="false",c.dataset.deleteSpellState="false",helper.removeClass(c,"prepare-state"),helper.addClass(c,"unprepare-state"),helper.removeClass(c,"cast-state"),helper.removeClass(c,"active-state"),helper.removeClass(c,"delete-state"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary")):"cast"==b?(c.dataset.prepareSpellState="false",c.dataset.unprepareSpellState="false",c.dataset.castSpellState="true",c.dataset.activeSpellState="false",c.dataset.deleteSpellState="false",helper.removeClass(c,"prepare-state"),helper.removeClass(c,"unprepare-state"),helper.addClass(c,"cast-state"),helper.removeClass(c,"active-state"),helper.removeClass(c,"delete-state"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary")):"active"==b?(c.dataset.prepareSpellState="false",c.dataset.unprepareSpellState="false",c.dataset.castSpellState="false",c.dataset.activeSpellState="true",c.dataset.deleteSpellState="false",helper.removeClass(c,"prepare-state"),helper.removeClass(c,"unprepare-state"),helper.removeClass(c,"cast-state"),helper.addClass(c,"active-state"),helper.removeClass(c,"delete-state"),helper.removeClass(d,"button-primary"),helper.addClass(d,"button-tertiary")):"remove"==b&&helper.eA(".spell-known-item").length>0&&(c.dataset.prepareSpellState="false",c.dataset.unprepareSpellState="false",c.dataset.castSpellState="false",c.dataset.activeSpellState="false",c.dataset.deleteSpellState="true",helper.removeClass(c,"prepare-state"),helper.removeClass(c,"unprepare-state"),helper.removeClass(c,"cast-state"),helper.removeClass(c,"active-state"),helper.addClass(c,"delete-state"),helper.addClass(d,"button-primary"),helper.removeClass(d,"button-tertiary"))}}function f(){var a=helper.e("#spells"),b=(a.querySelector(".prepare-spell"),a.querySelector(".unprepare-spell"),a.querySelector(".cast-spell"),a.querySelector(".active-spell"),a.querySelector(".remove-spell")),c=a.querySelectorAll(".spell-state-control"),d=helper.eA(".spell-known-item");if(0==d.length){for(var e=0;e<c.length;e++)helper.removeClass(c[e],"active");a.dataset.prepareSpellState="false",a.dataset.unprepareSpellState="false",a.dataset.castSpellState="false",a.dataset.activeSpellState="false",a.dataset.deleteSpellState="false",helper.removeClass(a,"prepare-state"),helper.removeClass(a,"unprepare-state"),helper.removeClass(a,"cast-state"),helper.removeClass(a,"active-state"),helper.removeClass(a,"delete-state"),helper.removeClass(b,"button-primary"),helper.addClass(b,"button-tertiary")}}function g(b){for(var c=0;c<b.length;c++){var d=b[c],e=helper.e(".spells-known.spell-level-"+d.level),f=h(d.name);e.appendChild(f);var g=f.querySelector(".spell-marks"),i=f.querySelector(".spell-active");if(d.prepared>0){helper.removeClass(f,"hidable"),helper.removeClass(f,"button-tertiary"),helper.addClass(f,"button-primary");for(var j=0;j<d.prepared;j++){var k=document.createElement("span");k.setAttribute("class","icon icon-radio-button-checked"),g.insertBefore(k,g.firstChild)}}if(d.cast>0){for(var l=g.querySelectorAll(".icon-radio-button-checked"),j=0;j<d.cast;j++)l[j]&&(helper.removeClass(l[j],"icon-radio-button-checked"),helper.addClass(l[j],"icon-radio-button-unchecked"));d.cast>=d.prepared&&(helper.removeClass(f,"button-primary"),helper.addClass(f,"button-tertiary"))}if(d.active){var m=document.createElement("span");m.setAttribute("class","icon icon-play-arrow"),d.prepared>0&&(i.children.length>0?i.firstChild.remove():i.appendChild(m))}a(f)}}function h(a){var b=document.createElement("button");b.setAttribute("data-spell-name",a.replace(/\s+/g,"-").toLowerCase()),b.setAttribute("id",a.replace(/\s+/g,"-").toLowerCase()),b.setAttribute("class","spell-known-item button button-tertiary hidable");var c=document.createElement("span");c.setAttribute("class","spell-name"),c.textContent=a,b.appendChild(c);var d=document.createElement("span");d.setAttribute("class","spell-marks"),b.appendChild(d);var e=document.createElement("span");e.setAttribute("class","spell-active"),b.appendChild(e);var f=document.createElement("span");f.setAttribute("class","spell-remove"),b.appendChild(f);var g=document.createElement("span");return g.setAttribute("class","icon-close"),f.appendChild(g),b}function i(a,b,c,d,e){return{name:this.name=a,level:this.level=b,prepared:this.prepared=c||0,active:this.active=d||!1,cast:this.cast=e||0}}function j(){for(var a=helper.eA(".spell-known-item"),b=[],c=0;c<a.length;c++){var d=a[c].textContent,e=parseInt(helper.getClosest(a[c],".spell-level").dataset.spellLevel,10)||0,f=a[c].querySelector(".spell-marks").children.length,g=a[c].querySelector(".spell-marks").querySelectorAll(".icon-radio-button-unchecked").length,h=a[c].querySelector(".spell-active").children.length;h=h>0?!0:!1;var j=new i(d,e,f,h,g);b.push(j)}sheet.getCharacter().spells.book=b}function k(){var a=[];if(sheet.getCharacter().spells.book)for(var b in sheet.getCharacter().spells.book)a.push(sheet.getCharacter().spells.book[b]);g(a)}(function(){for(var a=helper.eA(".add-spell"),b=0;b<a.length;b++)a[b].addEventListener("click",function(){c(helper.getClosest(this,".new-spell").querySelector(".spell-name")),j(),sheet.storeCharacters()},!1);for(var b=0;b<a.length;b++){var f=helper.getClosest(a[b],".new-spell"),g=f.querySelector("input");g.addEventListener("keypress",function(){d(this),j(),sheet.storeCharacters()},!1)}helper.e("#spells .prepare-spell").addEventListener("click",function(){e(this,"prepare")},!1),helper.e("#spells .unprepare-spell").addEventListener("click",function(){e(this,"unprepare")},!1),helper.e("#spells .cast-spell").addEventListener("click",function(){e(this,"cast")},!1),helper.e("#spells .active-spell").addEventListener("click",function(){e(this,"active")},!1),helper.e("#spells .remove-spell").addEventListener("click",function(){e(this,"remove")},!1)})();return{render:k}}(),stats=function(){function a(a,c){var d=(parseInt(a.value,10)||0,b(a));c.textContent=d}function b(a){var b=Math.floor((a.value-10)/2);return b}function c(){for(var b=helper.eA(".stats"),c=0;c<b.length;c++){var d=b[c].querySelector(".score"),e=b[c].querySelector(".modifier"),f=b[c].querySelector(".score-temp"),g=b[c].querySelector(".modifier-temp");""!==d.value?a(d,e):e.textContent="",""!==f.value?a(f,g):g.textContent=""}}function d(){for(var a=helper.eA(".stats .score"),b=helper.eA(".stats .score-temp"),d=0;d<a.length;d++)a[d].addEventListener("input",function(){c(),totalBlock.render()},!1);for(var d=0;d<b.length;d++)b[d].addEventListener("input",function(){c(),totalBlock.render()},!1)}return{render:c,bind:d}}(),totalBlock=function(){function a(){for(var a=helper.eA(".total-block"),b=0;b<a.length;b++){var c=helper.e(".stats.str .modifier"),d=helper.e(".stats.dex .modifier"),e=helper.e(".stats.con .modifier"),f=helper.e(".stats.int .modifier"),g=helper.e(".stats.wis .modifier"),h=helper.e(".stats.cha .modifier"),i=helper.e(".stats.str .modifier-temp"),j=helper.e(".stats.dex .modifier-temp"),k=helper.e(".stats.con .modifier-temp"),l=helper.e(".stats.int .modifier-temp"),m=helper.e(".stats.wis .modifier-temp"),n=helper.e(".stats.cha .modifier-temp"),o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0;"true"==a[b].dataset.strBonus&&(o=""==i.textContent?parseInt(c.textContent,10):parseInt(i.textContent,10)),"true"==a[b].dataset.dexBonus&&(p=""==j.textContent?parseInt(d.textContent,10):parseInt(j.textContent,10)),"true"==a[b].dataset.conBonus&&(q=""==k.textContent?parseInt(e.textContent,10):parseInt(k.textContent,10)),"true"==a[b].dataset.intBonus&&(r=""==l.textContent?parseInt(f.textContent,10):parseInt(l.textContent,10)),"true"==a[b].dataset.wisBonus&&(s=""==m.textContent?parseInt(g.textContent,10):parseInt(m.textContent,10)),"true"==a[b].dataset.chaBonus&&(t=""==n.textContent?parseInt(h.textContent,10):parseInt(n.textContent,10)),"true"==a[b].dataset.babBonus&&(u=parseInt(helper.e("#offense-base-attack").value,10)),"true"==a[b].dataset.sizeBonus&&(v=parseInt(helper.e("#defense-ac-size-bonus").value,10)),"true"==a[b].dataset.specialSizeBonus&&(w=parseInt(helper.e("#offense-special-size-bonus").value,10)),"true"==a[b].dataset.levelBonus&&(x=parseInt(helper.e("#basics-level").value,10)),"true"==a[b].dataset.halfLevelBonus&&(y=Math.floor(parseInt(helper.e("#basics-level").value,10)/2)),"true"==a[b].dataset.acArmor&&(A=parseInt(helper.e("#defense-ac-armor").value,10)),"true"==a[b].dataset.acShield&&(B=parseInt(helper.e("#defense-ac-shield").value,10)),"true"==a[b].dataset.acDeflect&&(C=parseInt(helper.e("#defense-ac-deflect").value,10)),"true"==a[b].dataset.acDodge&&(D=parseInt(helper.e("#defense-ac-dodge").value,10)),"true"==a[b].dataset.acNatural&&(E=parseInt(helper.e("#defense-ac-natural").value,10)),"true"==a[b].dataset.plusTenBonus&&(z=10),"true"==a[b].dataset.classSkill&&(F=3),isNaN(x)&&(x=0),isNaN(o)&&(o=0),isNaN(p)&&(p=0),isNaN(q)&&(q=0),isNaN(r)&&(r=0),isNaN(s)&&(s=0),isNaN(t)&&(t=0),isNaN(u)&&(u=0),isNaN(v)&&(v=0),isNaN(w)&&(w=0),isNaN(x)&&(x=0),isNaN(z)&&(z=0),isNaN(A)&&(A=0),isNaN(B)&&(B=0),isNaN(C)&&(C=0),isNaN(D)&&(D=0),isNaN(E)&&(E=0),isNaN(F)&&(F=0);for(var G=a[b].querySelector(".total"),H=a[b].querySelectorAll(".input-field"),I=[],J=0,K=0;K<H.length;K++)H.length>0&&("addition"==H[K].dataset.total&&I.push(parseInt(H[K].value,10)||0),"subtract"==H[K].dataset.total&&I.push(-parseInt(H[K].value,10)||0));I.length>0&&(J=I.reduce(function(a,b){return a+b}));var L=J+x+y+u+v+w+z+o+p+q+r+s+t+A+B+C+D+E+F;G.textContent=L}}return{render:a}}();!function(){nav.bind(),nav.render(sheet.getAllCharacters()),nav.resize(),hidableBlock.bind(),inputBlock.bind(),textareaBlock.bind(),checkBlock.bind(),skills.bind(),stats.bind(),sheet.render()}();